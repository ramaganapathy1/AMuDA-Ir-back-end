ieee communications surveys & tutorials  vol  15  no  3  third quarter 2013 1281 a survey of indoor inertial positioning systems for pedestrians robert harle abstractwith the continual miniaturisation of sensors and processing nodes  pedestrian dead reckoning  pdr  systems are becoming feasible options for indoor tracking  these use inertial and other sensors  often combined with domain-specific knowledge about walking  to track user movements  there is currently a wealth of relevant literature spread across different research communities  in this survey  a taxonomy of modern pdrs is developed and used to contextualise the contributions from different areas  techniques for step detection  characterisation  inertial navigation and step-and-heading-based deadreckoning are reviewed and compared  techniques that incorporate building maps through particle filters are analysed  along with hybrid systems that use absolute position fixes to correct dead-reckoning output  in addition  consideration is given to the possibility of using smartphones as pdr sensing devices  the survey concludes that pdr techniques alone can offer good short to medium term tracking under certain circumstances  but that regular absolute position fixes from partner systems will be needed to ensure long-term operation and to cope with unexpected behaviours  it concludes by identifying a detailed list of challenges for pdr researchers  index termsdead reckoning  inertial navigation  particle filters  wearable computers i i ntroduction ales of mobile computing devices such as smartphones are now overtaking those of traditional desktop computers  this increased mobility has spurred interest in location awareness and new interaction modalities that can use it  smartphones can now provide local news and weather  direct users to the nearest bank  navigate vehicles around traffic  and monitor the progress of every jogger  cyclist and hiker  this location revolution has been underpinned by the deployment of global navigation satellite systems  gnsss  such as gps  these are  however  incapable of tracking indoorswhere most people spend the majority of their time  providing location services within a building has many potential applications  including  safetylocation systems provide emergency services with an immediate view of where building users are at any time ; securitylocation-awareness permits automatic locking of sensitive resources if the owner is not present ; resource-efficiencysmart buildings can use the knowledge of where its users are to optimise heating  lighting and other resources ; automatic resource routingfollow-me applications allow telephone calls to route to the nearest device and for users to efficiently find colleagues ; s manuscript received 19 april 2012 ; revised 23 august 2012 and 10 december 2012 r harle is with the department of computer science  university of cambridge  uk  e-mail  robert.harle @ cl.cam.ac.uk   digital object identifier 10.1109/surv.2012.121912.00075 visitor navigationvisitors unfamiliar with a building can quickly navigate to rooms of interest  many diverse techniques have been proposed to enable indoor location and there is a large body of literature relating to the problem  the expense and time required to install  configure and maintain these systems has so far prohibited general deployment  one solution to this has been to layer them above deployed communications systems such as gsm  wifi  and bluetooth  1   but this can result in sub-optimal positioning since the communications access points are rarely deployed to provide optimal location geometry and coverage overlap  this work surveys an emerging subset of tracking systems that use inertial sensors to perform dead reckoning  these systems typically compute their own positions and their key advantage is that they require very little  if any  physical infrastructure to function  they also offer a degree of location privacy since the user can choose not to share the information with any third party  note  however  that failure to share location data severely limits the available location-aware applications  interest in these systems is peaking because the crucial sensors have become sufficiently small and inexpensive to enable practical tracking of individuals  who must carry them at all times   furthermore  the widespread deployment of smartphonesmost of which contain the relevant sensors means a near-ubiquitous deployment of inertial devices exists that users already carry and charge.the challenge now is to exploit these sensors to achieve tracking robustness levels similar to that demonstrated by a gnss  this survey is structured as follows  section ii briefly reviews indoor positioning in general ; section ii-b examines the invariants to be exploited in ambulatory motion ; section iii surveys the different techniques that have been used to detect steps within sensor data ; section iv looks at the application of inertial navigation systems  ins  research ; section v considers an alternative step-and-heading approach ; section vi surveys the use of particle filters and map-matching techniques to improve location estimates ; section vii considers the hybrid relative/absolute systems that have been proposed ; and then sections viii and ix conclude by identifying open research areas and future research directions  ii  i ndoor p ositioning s ystems there exist many surveys of wireless positioning systems in the literature  with the possible exception of inertial systems such as those described here  comprehensive coverage is provided by hightower and borriello  1   sun et al   2   liu et al   3   and gu et al   4   a reiteration of their contents is beyond the scope of this work  but there is benefit c 2013 ieee 1553-877x/13/ $ 31.00  1282 ieee communications surveys & tutorials  vol  15  no  3  third quarter 2013 in highlighting a few key techniques since hybrid systems are also gaining traction  see section vii   the following techniques are described in more detail in the cited surveys      lateration and angulation systems  these compute distances or bearings between the mobile unit and an array of base stations at known locations  difficulties arise indoors because radio signals may not propagate along the direct path due to walls and other obstructions  careful choice of the signal type can assist here  ultrasonic systems have shown high accuracy but are expensive to deploy and maintain ; whilst ultrawideband radio systems such as those supplied by ubisense1 can achieve around 20 cm accuracy  but are costly  difficult to retrofit  and require specialist location tags to be carried by users  proximity systems  rather than provide co-ordinate location  these systems provide only coarse location  perhaps the nearest room or building section   examples include rfid systems and bluetooth stations  they have the advantage of requiring little calibration  but need a high density of readers to gain reliable  ubiquitous coverage  radio fingerprint systems  perhaps the most successful indoor systems to date are those based on radio fingerprinting  here  signal properties such as received strength are compared to a database of properties previously collected at a variety of locations  a radio map   the closest match is returned as the estimated position  wifi is a common choice due to its ubiquity  accuracies of a few metres are typically reported  dead-reckoning systems  these systems use sensors on the user to estimate relative rather and absolute location i.e  the change in position since the last update  they require little or no infrastructure to be pre-installed in buildings  but without an external reference  errors quickly accrue  fingerprint systems are a good example of where a tension can form between location and communications performance  the smaller the dimensionality of the fingerprint  the harder it is for a system to reliably distinguish between neighbouring fingerprints and the worse the location performancei.e  we seek to maximise coverage area overlap between access points  contrast this with an ideal communication-optimised deployment  where we seek the minimum overlap that gives comprehensive coverage  as such  higher-accuracy wifi positioning systems will often require additional infrastructure and may introduce signal interference that degrades core communications performance  5   in addition  the cost of continuously using the wifi radio on a mobile device can be prohibitive  nonetheless  they are the target of significant research effort  this survey is concerned with the recent developments in dead-reckoning for walking users and hybrid systems using such techniquesoften called pedestrian dead-reckoning  pdr  systems  these systems are of particular importance because they retain the low deployment costs associated with dead-reckoning whilst successfully addressing many of the shortcomings  1 http  //www.ubisense.net     fig  1 ins and shs  an ins computes the full trajectory of a unit in 3d  solid line with position dots   whilst an shs deals only with gross step vectors in 2d  arrow sequence  a types of pdr in this work  a distinction is made between inertial navigation systems  inss  and step-and-heading systems  shss  see figure 1 an ins is a system that tracks position by estimating the full 3d trajectory of the sensor at any given moment  an shs is specific to pedestrians  estimating position by accruing  distance  heading  vectors representing either steps or strides2  if the output of an ins worn by a pedestrian is somehow sliced into steps  then it forms a subset of an shs  referred to here as an shs-ins system  however  other techniques can underlie an shs with better noise robustness  as discussed shortly  the fundamental cycle for an shs is  1  identify subsets of the data corresponding to individual steps or strides ; 2  estimate the length of the step ; and 3  estimate the step heading or change in heading  the work on inss and shss owes much to the robotics community  the problem is significantly more challenging in this context since the robot is replaced by a user  meaning  we no longer control how the sensors move and we lose any feedback loop that could ensure a space is completely covered ; we are limited by the available sensors ; and the movements are more complex  nonetheless  a number of robotics techniques have proved useful  including  particle filtersthese are numerical solutions to the bayesian estimation framework that allow the incorporation of complex constraints that can help limit drift ; and simultaneous localisation and mapping  slam  these techniques were developed to allow a robot to locate itself within an environment it has not seen before  the typical sensors used for slam  laser rangefinders  cameras  are not applicable to pedestrians but the techniques enable 2 a step is the period between two footfalls on opposite feet  whilst a stride is the same quantity but between the same foot  harle  a survey of indoor inertial positioning systems for pedestrians 1283 18 gyroscopes 12 accelerometers compass  magnetometer  13 16 heading 15 1 optical 21 14 step detection 19 2 pressure position 22 ins 17 wifi barometer 3 4 24 23 7 8 electromyography  emg  sensors shs 3 step length 25 slam 6 5 rf ranging 26 particle filter statistical model ultrasonic ranging 11 10 building maps gps 1   6  2   7  3   8  4   9   12  5   13  6   14  7   15   19  8   13    16    17    19   21  9   16    17    21  10   16    17    21  11   22   25  12   12    14  13   11    13    20    26  14   15   18    21    27   31    31  15   19    21    31    32  16   9   12    12    15    17    19    28    29    33  17   15    15    17    19    21    26   29    31  18   13    19  19   32    34  20   10  21   12    19    20  22   16   19  23   18  24   25    29  25   30    33  26   24  rfid radio fingerprints fig  2 pdr configurations  system inputs are connected via annotated arrows to ellipses  which represent algorithms and system subunits  arrow annotations give a numerical key into the list of literature references on the right location systems that improve over time as they learn about the environment  both of these techniques are addressed in more detail later in this survey  figure 2 provides a graphical summary of all the sensors and techniques that are surveyed herein  sensors are connected to system subunits  shown in ellipses  by arrows that represent the flow of data  for example  the arrows starting at the accelerometers label represent accelerometry data that have been used to detect steps ; to directly estimate step lengths ; and been combined with gyroscopes or with gyroscopes and a compass to form an ins  for each flow of data  the figure gives a set of references to literature that uses that specific sensor or technique  b ambulation many of the systems described here succeed by assuming ambulatory motion and deriving related invariants  ambulation itself can be characterised by the alternate vaulting of the body over a stiffened leg  with the fall being broken by the opposing leg  at any given moment at least one foot is in contact with the groundthere is no flight phase as is found when running  instead the gait cycle is usually defined in terms of the phases occurring at a specific foot  the primary phases are stance and swing  in its stance phase the foot of interest is firmly planted on the ground  providing a pivot point over which to vault  in the swing phase  the foot lifts from behind the pedestrian and swings through to break the fall and enter its stance phase  the transition from stance to swing involves the foot peeling from the floor  providing a final push from the toes  this event goes by many names  but toe-off and pushoff are the most common  the transition back to the stance phase begins with the heel contacting the floor  the heel-strike or foot-down event  before the foot flattens  the foot-flatten event   the foot remains flattened until the transition to the swing begins  and the cycle restarts  the strong periodicity in the movement coupled with the tendency of humans to sustain a consistent pace allows for a variety of constraints to be applied  iii  d etection of the g ait c ycle the first task of an shs is the identification of steps or strides within the data  in fact  this is even used in many inss  as discussed shortly  at a minimum  these algorithms must permit for accurate step counting  although many systems also require accurate step segmentation  we can thus identify two main algorithm types  stance detectionalgorithms that identify periods of data throughout which a given foot is planted on the floor  to do this  the sensor is mounted to the foot  typically these are appropriate for step counting but give poor segmentation output ; step cycle detectionalgorithms that detect cycles in the sensor data caused by the repetitive motion of walking  this may involve searching for repeating data patterns or for repeating events  e.g  the heel-strike   these are well suited to step segmentation  typical stance detection algorithms are threshold-based  the principle is that the sensor will be static during the stance phase and the inertial sensors should report a corresponding lack of activity that thresholding can easily identify  most algorithms threshold on the accelerometer magnitude  11    17    35   although angular velocity thresholds have also been used  21    32    36  and combinations have been trialed  27   even magnetometer thresholding can give usable stance detection under some circumstances  19   in some cases applying 1284 ieee communications surveys & tutorials  vol  15  no  3  third quarter 2013 fig  3 autocorrelation-based step cycle detection  the top graph shows the raw acceleration magnitude during five sample strides  the autocorrelation of the mean-subtracted signal is shown in the bottom graph  with strong peaks associated with each stride  the threshold to the moving variance of the signal has been preferred to applying it to the instantaneous magnitude  15    19   a successful stance detection enables step counting simply by assuming one stance period per stride per foot  jimenez reported errors of just 0.1 % and 0.2 % based on thresholding accelerometer variance and angular velocity  respectively  19   however  threshold-based stance detection assumes at least one sensor on the foot  a large deployment of shoe sensors is not inconceivable  but is highly unlikely in the short to medium-term  even were such a deployment achieved  there are limitations to the value of stance detection  because shoe sensors undergo high accelerations they experience additional movements associated with shoe deformation and bounce  this  combined with the empirical nature of thresholds  see  12    means the start and end points of a threshold-computed stance period do not represent the true foot-down or toe-off events  rather they represent an inconsistent subset of the full stance period  instead  other techniques have been developed to accurately identify specific events for data segmentation  as well as to allow the sensors to gather data from elsewhere on the body  these include  peak detectionthe heel strike is associated with sharp changes to the vertical acceleration  standard peak detection algorithms can be used to highlight potential strikes  note that each foot impact may generate multiple local peaks the nearer to the foot it is sited  due to the higher forces resulting in sensor bounce  37    38   this can significantly increase the algorithm complexity  zero crossingsa cheaper way to use the cyclic property is to monitor the acceleration value for zero crossings  essentially a form of thresholding   39   this is a popular choice for pedometers or activity monitors such as the actigraph3 due to its simplicity  auto-correlation or template matchingthe cyclic nature of walking leads to strong periodicity in the sensor data  regardless of the attachment site  the cycle can be extracted by seeking maxima in the mean-adjusted autocorrelation of a sequence of sensor data  such as the acceleration magnitude  figure 3   38   whether the peaks correspond to a step or a stride will depend on where the sensor is attachedthe nearer to a foot  the more asymmetric the response for each step  if a sample sequence of data for a step or stride has previously been collected  cross-correlation with this template data can also identify steps or strides using the same process  spectral analysisthis involves computing the frequency spectrum of the cyclic data and identifying strong peaks at typical stepping frequencies  windowed subsets of the data  with a width that includes at least two cycles  are converted to the frequency domain and the dominant frequency taken as the walking frequency  40   the last two methods depend on identifying periodicity in the sensor signals  it is difficult to write such algorithms to handle changes in walking speed  to capture one-off steps or to reject false positives caused by any repetitive movement within the expected frequencies  however  it is most common for humans to adopt a natural  and surprisingly consistent  walking pace  for which such algorithms are highly robust  3 the actigraph is a belt-worn unit that provides long-term logging of an internal accelerometer for the purposes of activity monitoring  see http  //www.theactigraph.com  harle  a survey of indoor inertial positioning systems for pedestrians 1285 table i s tep detection summary  author judd park et al  ladetto citation  26   44   9  sites unspecified foot lower back  thorax waist waist ? sensors acc pressure acc stance no yes no signals used vertical acceleration vertical force vertical and forward acceleration technique summary low-pass filter  peak detect wavelet decomposition  peak detect acc  gyro acc no no low-pass filter  peak detect peak detect  test gradient acc no pitch angle vertical and forward acceleration vertical acceleration yes no 3d acceleration magnitude range between feet yes yes yes jirawimut et al  kourogi et al   13   34  randell et al   10  stirling et al  saarinen et al   11   14  foot  backpack foot  torso foot cavallo et al  foxlin kim et al   32   27   12  foot foot ankle acc ultrasonic ranging gyro gyro  acc acc  1d  beauregard dippold godha et al   20   42   15  head waist foot acc acc acc no no no ojeda et al  beauregard et al  krach et al  jimenez et al   36   45   17   19  foot ? foot both feet foot yes yes yes yes castaneda et al  wang et al  goyal et al   35   8   39  foot calf waist gyro acc  gyro acc  gyro acc  gyro  compass acc  gyro emg acc 3d gyro magnitude raw acc  gyro horizontal  vertical acceleration acceleration magnitude vertical acceleration acceleration magnitude  variance gyro magnitude raw signals ? acceleration magnitude magnitudes yes n/a no magnitudes emg signal vertical acceleration ria et al   23  acc no not specified faragher et al   24  various  pocket  handheld  hip thresholding across 0.5s intervals unclear thresholding compares  variance of acc  magnitude with thresholds on compass or gyro fuzzy logic thresholding peak detect double integration  peak detection  one per zero-crossing autocorrelation acc no acceleration magnitude thresholding all of these techniques are usually applied to accelerometer signals  often after applying a low-pass filter to remove noise  filter cut-off frequencies of around 20 hz retain the step periodicity  although filtering down to 2 or 3 hz has also been used successfully  41   it should be noted that most implementations claim to use only the vertical acceleration  but do not compensate for changes in the global pose of the sensor during a step  instead they assume that one of the accelerometer axes remains vertical throughout  this assumption is most valid for inertial sensors attached to the torso of the body  9    42   although it has proved acceptable on the foot  10   many of the algorithms are tested on flat surfaces  which is appropriate for the majority of buildings  however  ladetto reports that the assumptions used by many pdr systems break down on inclines of 10 % or more  9   more recently  wang et al  have demonstrated that different gait patterns corresponding to different inclines can be distinguished autonomously to accuracies exceeding 90 %  43   from this we can conclude that a modified pdr system could cope with long ramps found within a building for wheelchair access  table i summarises some prominent positioning systems in terms of the sensors and signals they use  and whether they perform stance detection or step cycle detection  the lack of uniform testing methodologies makes quantitative comparison difficult herein many cases the step detection component is only a small part of work that receives only minimal scrutiny  it is an open research problem as to which of these techniques moving average  peak detection  maximum followed by trough  unclear range minima and maxima thresholding  15 deg/s  thresholding peak detect low pass filter  zero crossings peak detect moving average  thresholding  zero-crossings works best when given a diverse test population  a wide range of environments and unconstrained day-to-day movements  a non-inertial sensors for step detection a variety of non-inertial sensors can also facilitate step or stance detection  park et al  used pressure sensors embedded in the sole of the shoe  44  ; toth et al  used impact switches in a similar manner  46  ; saarinen et al  used ultrasonic ranging between the feet  14  ; and wang et al  used electromyography  emg  sensors attached to the calf  8   whilst effective  these solutions all require more invasive attachment to the user and rarely offer any benefit over the use of inertial sensors  which are still needed for subsequent pdr analysis anyway   b detection accuracies the techniques are often presented as offering robust step counting and/or stance detection  this is perhaps unsurprising since the sensors undergo significant changes throughout a gait cycle and each cycle is strongly correlated with the last  the observed accuracies will depend on many factors  but step counting accuracies in excess of 99 % are commonly quoted under laboratory conditions with few false negatives  in reality  finding a robust and reliable technique for step cycle detection away from the foot is not simple  quoted accuracies are rarely derived from testing on a representative sample of the population and do not account for different 1286 ieee communications surveys & tutorials  vol  15  no  3  third quarter 2013 heights  weights  shoes  surfaces or gaits  it is also rare to see the test subjects act freelyinvariably they are tasked with performing a long  continuous walk  under such circumstances the sensor signal exhibits strong self-similarity which simplifies detection  less constrained motions  stumbles  sidesteps  shuffles  etc   are problematic  and arbitrary cyclic motions may trigger the frequency-based techniques  the most comprehensive pedometry  step counting  studies have been carried out within the medical domain  for example  marschollek et al  provided a detailed study with over 200 test subjects that varied in age from 7 to 88 years old  with varying degrees of health  using a waist-mounted accelerometer and a variety of processing algorithms  they found errors in the step counts of 8.4 % in healthy subjects  using a variant of thresholding  and as high as 29.3 % in mobility-impaired subjects  using autocorrelation   they conclude that none of the algorithms work very well  although insufficient details are given to reproduce the algorithms employed and more sophisticated variants have now been proposed  more recently rai et al  described an autocorrelation algorithm ostensibly for step counting but capable of segmenting data into strides  their normalised auto-correlation based step counting  nasc  algorithm  23  was tested on walking and non-walking data collected from six people  they used a smartphone accelerometer in a variety of positions including handheld  in a pocket and in a handbag  they report false positive rates of 0 % and false negative rates of 0.6 %  these results are very encouraging  but there is insufficient detail in the testing methodology to be able to extrapolate them to a larger population outside the laboratory  iv  ins s in more d etail an ins uses triaxial accelerometers and gyroscopes to track orientation and position changes  47   in the strapdown configuration used by pedestrians the sensors are combined into a rigid package and firmly attached to the body4we speak of the world frame of reference  with axes in the horizontal and vertical planes  and the sensor frame of reference  with three mutually perpendicular measurement axes pointing in arbitrary world directions   in robotics the attitude of the sensor can often be constrained such that  for example  the sensor z-axis coincides with the vertical world axis  tracking position then involves subtracting the gravitational signal from the vertical accelerometer signal and performing double integration on the remaining 3d acceleration  i.e  integrating once to velocity and twice to displacement   in a pdr context  however  the sensor is not only unlikely to be axis-aligned  it will also continuously rotate with respect to the world frame during the walking cycle  we must therefore track the rotation of the sensor using the angular velocities provided by the gyroscopes  this introduces a third integration to each position update  inevitably  measurement errors are present within the sensor data  and the triple integration of them results in a potentially cubic growth in time  drift   inss for aviation  marine and 4 an alternative configuration uses a gyro-stabilised platform to maintain the pose of the accelerometers with respect to the global axes  such systems are accurate but bulky and expensive  making them inappropriate for pedestrian navigation  the military use highly accurate sensors that keep the error sources very small and permit tracking for many hours  these are too bulky and expensive for a pdr  which must instead use micro electro-mechanical systems  mems  technology  mems sensors are small and highly portable but they are also subject to more significant error sources  open-loop integration of mems inertial sensors is only possible for a minute or two before the drift dominates  47   strapdown inertial navigation algorithms have been well studied and the standard approach to limit drift uses an extended kalman filter  ekf  in the complementary or indirect form  whereby the filter tracks the errors in the system state rather than the system state directly  a 15-state model is commonly used  three states each for position  velocity and attitude errors plus six states to model the accelerometer and gyroscope biases  27    48   the process structure is illustrated in figure 4 a zero velocity updates  zupts  to counter drift it is necessary to regularly close the integration loop by applying external constraints to the system  the most widespread pdr constraint is provided by zero velocity updates  zupts   zupts assert that the sensor is stationary and can be applied during the stance phase provided the sensor is attached to the foot  zupts were first used in a pdr context in the navshoe project by foxlin5  who reported good results in 2005  27   zupts are easily incorporated into the ins structure of figure 4 by formulating them as pseudomeasurements of zero velocity  the application of zupts means that open loop integrations only occur during the swing phase of the foot to which the sensor is attached  for such short durations  drift accrual is limited and longer tracking durations are thus feasible  for a reliable output  however  zupts must only be applied when the foot  and hence sensor  is completely static  issues can arise when the sensor is attached any higher than the ball of the foot  the peeling motion associated with the transition from stance to swing means the heel rises soon after the foot-down event and hence a sensor in the mid-foot will start experiencing an acceleration as the foot levers up  these small accelerations occur before the strict end of the stance phase and it is necessary to account for these errors by applying a non-zero covariance alongside the zupt pseudo-measurement  b the use of magnetometers many commercial inertial sensor units contain triaxial magnetometers in addition to the accelerometers and gyroscopes necessary for an ins  magnetometers provide a direct estimate of the users absolute heading  which is particularly useful for correcting the inevitable heading drift that accrues in an ins  even with zupts applied  magnetometer readings are incorporated into the framework of figure 4 by applying them as absolute heading measurements  however  the earths magnetic field is relatively weak at its surface and modern buildings  filled with metal and conducting 5 foxlins article itself credits a 1996 darpa project for the introduction of zupts for a pdr  harle  a survey of indoor inertial positioning systems for pedestrians 1287 fig  4 the standard ins solution involving a 15-state extended kalman filter wires  can overpower the natural signal  leading to local disturbances  afzal et al  performed detailed experiments indoors and concluded that different building materials have significantly different effects on magnetometers  with heading errors of up to 100 observed  49   in their office environment  rai et al  report magnetic errors were contained to within 15 at 90 % of their test locations  with a maximum deviation of 30 observed  a common correction algorithm is to reject any readings where the magnitude lies outside some tolerable range of the expected value  afzal et al  noted that this can be overzealous since vertically polarised magnetic fields will affect the magnitude but not the horizontal heading  50   to use this knowledge  however  requires that the pose of the sensor in the world frame of reference be known except for horizontal heading so there are practicality issues  combining both gyroscope and magnetometer inputs has yielded some success since the two sensors have complementary error characteristicsgyroscopes give poor long-term orientation  while magnetometers are subject to short-term orientation errors  kim and park exploited this by comparing the angular velocities measured by the gyroscope with those computed from successive magnetometer readings  12   a significant difference was taken to signify the presence of a magnetic disturbance and the compass measurements were discarded  their results indicated an improvement but only considered one environment that was not reported to suffer from strong magnetic disturbances  magnetic disturbances can also be modelled within the ekf framework of figure 4 as per  27    39   by assuming a high spatial frequency of disturbances  the ekf is able to estimate the covariance in the heading measurement  however  foxlin noted that the large number of updates typically applied during a stance phase can bias the result strongly  and so used only a single magnetometer reading per step  27   in summary  there are many proposals for techniques to address magnetic disturbances to aid in heading determination  however  more detailed testing in a wide variety of environments is needed before any firm conclusions can be drawn  in the meantime  fusing gyroscope output with the compass provides a heading estimation  or heading change estimation  that is reasonably robust in most environments  c results of inss with zupts ultimately  integration drifts limit the usefulness of pure ins-based techniques for anything other than short-term indoor tracking  zupt-based inss typically exhibit return-tostart errors6 of the order of a few metres in the literature  however  the testing usually involves contrived situations where the users initial position is known and they are told to walk along prescribed paths without stopping  little consideration has been given to more natural situations  where a user may move to avoid obstacles  may sit and swing their legs  may amble aimlessly  or may perform some unusual activity such as jumping or skipping  the practicality of requiring a footmounted sensor  for zupts  also detracts from the solution  nonetheless  zupt-based inss have been shown to give good medium-term tracking accuracies when combined with building maps  see section vi   v s tep and h eading s ystems  shs s  a drift-free ins provides a full 3d trajectory for a sensor  whilst useful  this level of detail is not necessary in most tracking scenarios  navigation in 2d in the horizontal plane and using step vectors rather than complete limb trajectories is sufficient  step and heading systems  shss  output a series 6 a return-to-start error is the error in predicted position after a user performs a walk that brings them back to their start position  and is useful when the true path of the walk is not available  1288 ieee communications surveys & tutorials  vol  15  no  3  third quarter 2013 of  step length  step heading  or more often  step length  step heading change  polar vectors that can be summed in a 2d vector space to track position  although these vectors could be derived simply by degrading the ins output  forming an shs-ins   they can also be estimated without using the triple integration that leads to fast drift accrual in an ins  as an example  step cycle detection can be used to identify the sensor data associated with a single step and the length may then be directly estimated from its duration  i.e  no integration   a length estimation in fact  the simplest approach to estimating step length is to assert it as constant  pedestrians have a natural walking pace with a surprisingly constant step length  however  this natural walking pace is adjusted when rushing  ambling or walking with others  weinberg reported that the step length can vary by as much as 40 % between pedestrians walking at the same speed  and up to 50 % across the range of walking speeds of an individual  41   note that in short tests where participants are asked to walk continuously along a specified route  they are likely to adopt their natural walking pace and this may lead to an overly optimistic tracking accuracy  weinberg also described a dynamic step length estimation procedure based on the maximum vertical displacement of the hip  bounce   the stride length was shown to be a function of the bounce and the vertical angle between the highest and lowest point of the hip during a single stride  41   this angle is taken as constant although it is actually related to the leg length of the user  nonetheless the step lengths are reported to be within 8 % of their true values  which may be sufficient for some uses  an alternative is to base step lengths on the observed step frequencies  which can be estimated using the step detection techniques in section iii  research in the medical community has shown a tight coupling between the step frequency and the walking speed  which is little more than a proxy for step length   although the precise relationship is non-trivial  see  51    it is common to fit a linear relationship  which is sufficient to achieve an rms error of 5.6 %  52   direct measures of each step have also been used  for example  saarinen used ultrasonic sensors mounted on the front and back of each shoe  14  and similar range-finding techniques have been used elsewhere  such techniques unquestionably produce higher quality displacement estimates  however  the increase in accuracy is often negligible since the larger heading drift is typically the limiting factor  finally  some systems estimate step lengths iteratively by evaluating the paths produced using different lengths and using building maps to choose an optimal length  see also section vi   23   b heading estimation heading estimation within an shs is typically no different than for an ins since there are so few sensors available as inputs  single integration of gyroscope signals provides estimates of heading change  because shss can avoid using subsequent integration for the step length  the overall drift does at least grow linearly rather than cubically  in addition  some systems use only a single gyroscope mounted parallel to the torso  making the assumption that it remains  near  vertical during walking  as in section iv-b  magnetometers may also be used directly or fused with the gyroscope outputs to estimate heading  c shs-ins systems some systems derive pdr events from an underlying ins  to do this they use the step detection techniques described in section iii to segment the ins output into steps  these are then summarised as  length  heading  pairs  such shsins systems naturally suffer from the same drift accrual found in pure ins systems and they are used merely because shs outputs are simpler to handle when working with the higherlevel filters necessary to incorporate other constraints such as maps  53   vi  i ncorporating m ap m atching whilst the techniques previously described aim to minimise the rate of drift accrual  they can not prevent it  longer-term tracking of pedestrians has been achieved by incorporating external measurements and environment information  building maps in particular are a popular way to address medium-term drift  abdulrahim et al  proposed constraining movements to lie along paths parallel to the external building walls  54   for a typical rectangular building  this constraint allows movement in one of two perpendicular directions  over a series of eight walking loops that varied in duration from 1240 minutes and in length from 0.53 km  they achieved an average return-tostart error of 4.62 m using zupts and orientation constraints  versus an error of 153.62 m when only zupts were applied  whilst these results are encouraging  errors of 5 m lead to room ambiguity  it is also unclear how the system would cope with free movements outside of contrived test conditions  a particle filters the problem is similar to the routing problem faced by vehicular navigation systems  where noisy position estimates must be constrained to lie on public roads  here  however  the tracking error is often comparable to the distances between route intersections  i.e  office doors  and users can quickly change direction at will  consequently not all of the vehicular routing techniques are useful in a pdr context  one of the key difficulties is representing the complex shapes of buildings as constraints  unlike zupts  wall outlines are not easily related to raw sensor data and instead we feed the output from an shs into a higher level particle filter to form an shs-pf  a particle filter is a numerical approximation to a bayesian filter  55   it is made up of many particles  each representing a possible 2d position and heading for the user in this context  some positions are perhaps more likely than others  so each particle contains a weight value that represents the probability of it being correct based on all the information to date  a particle filter is iterative  with three traditional steps to each iteration  harle  a survey of indoor inertial positioning systems for pedestrians 1289 table ii shs-pf summary  authors ref system description evaluation pdr-ins + pf no  users 1 woodman et al   53  woodman et al  woodman et al  beauregard et al   22  pdr-ins + pf  as above  1  48  pdr-ins + pf  as above  1  45  pdr-ins + backtracking pf 1 klepal et al   16  pdr-ins + backtracking pf  as above  1 krach et al   56  pdr-ins on each foot + pf 1 35-minute walk  three floors  wifi containment five 1015 minute walks  three floors  10-minute walk  two floors  manual ground truth  multiple walks of up to 10 minutes  manual ground truth  no details 16-minute floors  walk  three 1  updateeach particle is displaced according to a motion model  usually a constant velocity taken from the previous iteration  ; 2  correcteach particle is assigned a weight based on the similarity between the motion-model step estimate and the measured heading vector ; 3  resamplea new particle set is generated by copying particles in the current set in proportion to their weights  this ensures that the particle set is distributed over likely locations rather than unlikely ones   shs-pf systems were demonstrated independently in 2008 by krach and robinson   56   ; widyawan  klepal and beauregard   16   ; and woodman and harle   53    all three choose to incorporate a new step vector into the update phase  step 1 above  rather than into the weight assignment  step 2  as described above  without this modification  step 1 may move many of the particles in significantly different directions to those described in the measured step vectors  consequently they would be assigned low probabilities in step 2 and we would require more particles  and hence more processing power  to ensure enough particles with high probability persisted at the true position  i.e  each particle with state  xt  yt  t  incorporates a step event with step length l and heading change as follows  48   xt+t yt+t = xt +  l + nl  cos  + n   = yt +  l + nl  sin  + n    1   2  t+t = t + + n   3  where nl and n are noise terms drawn from the step length and heading uncertainty models  respectively  the three shspf systems mentioned above used zero-mean white gaussian noise processes to generate these terms  with variances appropriate to the confidence in the current step event  in the assignment of weights in step 2  all three systems assigned weights of zero to those particles that crossed a wall boundary  this prevented those particles from being resampled in filter step 3 the remaining particles were either assigned an equal weight  widyawan et al   or assigned a weight using the observed change in height of the step  woodman and harle   a summary comparison of the three systems is provided in table ii  which also considers incremental updates to the works  broadly speaking  the three had more in common than not  notable differences include  ninit ntrack initialisation accuracy quoted 170 wifi-assisted 0.73m 95th percentile 170 wifi-assisted no details variable variable  136,000 170  variable  < 228,001  4478049 500 uniform prior 0.62m 95th percentile fixed 2000 2000 manual ? 0.74m fixed 2000 2000 manual ? 1.321m no details no details no details uniform prior corridor width particle scheme variable variable the woodman implementation made use of the kld resampling algorithm  which dynamically varies the number of particles in a filter ; the beauregard implementation introduced backtracking  whereby the filter kept a limited history of each particles ancestors to allow deletion of an entire trajectory when a particle was killed due to a wall constraint  this is a variant of backward belief propagation also used by rai et al   23  and is useful to improve position estimates made in the past when live positioning is not a requirement  the krach implementation combined two shs-ins systemsone for each footto feed the particle filter  the evaluations of these systems indicate tracking accuracies of around 1 m are feasible  but all were limited to single users walking continuously for tens of minutes  table ii  using foot-mounted sensors  most people spend the majority of their day in a sedentary state so it is not unreasonable to assume walking durations of this magnitude  nonetheless  these evaluations are not sufficient to assert an arbitrary user can be tracked throughout a day using an shs-pf system  b handling lower quality inputs to some extent  deficits in the quality of the shs inputs can be compensated for in an shs-pf framework by increasing the variances associated with each step event  in turn  this will require an increase in particle number to better represent the underlying probability distribution  however  this increase may only be a small percentage increase and a worthwhile trade-off to permit the use of lower grade sensors or simpler shs techniques  for example  many of the different techniques for step length estimation discussed in section v-a have little effect on the shs-pf tracking accuracy since they all provide estimates within small percentages of the true value  where step counting is robust  it may even be possible to infer the characteristic step length by including it as a state variable within the particle filter as per  23   similarly  woodman simplified the ekf used in his ins system to avoid modelling the accelerometer and gyroscope biases with little consequence when fed into an shs-pf  48   c computational demands and scalability particle filters typically require greater storage and processing resources than other fusion techniques  the minimum 1290 ieee communications surveys & tutorials  vol  15  no  3  third quarter 2013 number of particles required at any moment is related to the uncertainty in the users position  woodman identified two key regimes  localisation and tracking  in the latter there is minimal uncertainty in the users position  the particle cloud having converged about their location  in the former  there is large uncertainty in the users position and the particle cloud is spread across a large floor area  this large uncertainty requires many more particles to represent adequately  evaluations such as those performed by beauregard et al  avoid the localisation problem by seeding the filter with a prior centred on the users initial position  allowing it to begin in the tracking regime  this allows a constant number of particles to be used  but is not a practical solution  even if the initial location is known  the filter may fail and need to be re-initialised without knowledge of the users location  a more general prior would cover the entire tracking area  for the three-floor 8725 m2 building used by woodman  over 4,000,000 particles were needed to adequately represent such a prior  53   this number should be contrasted with the 500 particles needed for the tracking phase7  both woodman and krach consider the convergence problem and conclude that coarse location information from an auxiliary system would be highly beneficial  in  22   a wifi radio map  constructed using the pdr system itself  was used to infer a containment region for the user  across which the particles were uniformly distributed  this reduced the initial particle count to less than 250,000 using kld resampling  this number fell to below 500 as the filter entered the tracking regime  the time taken for this depends on the environment and the path taken through it   because the computation demands of an shs-pf filter can be significant  care must be taken to optimise the efficiency of the processing code  in his thesis  woodman described a series of optimisations in depth  including segmenting the floor into polygons  particle clustering  and more  48   vii  s martphone and h ybrid s ystems one of the key attractors for pdr systems is the wide deployment of appropriate sensors in smartphones  however  we can exert very little control over where the smartphone is attached and hence what it measures  smartphones may be carried in front pockets  back pockets  side pockets  shirt pockets  backpacks  handbags  on belt clips or in the hand  they may be firmly held in place  or free to move  and may be moved from their current position without warning  steinhoff and schiele experimented with an ins fed by sensors in the trouser pockets of eight test subjects  57   they reported errors of 14.4 %  95th percentile  of the distance travelled compared to a foot-mounted ground truth sensor  whilst promising  such errors will accrue quickly to limit tracking ability  if a system is able to recognise where a smartphone is being carried it may be able to adapt its algorithms to better detect the walking cycle through an shs approach  even so  very few systems have demonstrated an ability to cope with illdefined movements such as shuffling or even side steps  any 7 note that each number quoted here would scale linearly with the number of people being tracked and the floor area  pdr system is likely to need occasional position corrections from an external  absolute  positioning system  the most popular hybrid systems combine pdr with wifi fingerprinting in an attempt to address the shortcomings of both  with fingerprinting  the main difficulties are associated with comprehensively surveying the building to form a radio map and in keeping that map up-to-date  woodman and harle eased the data collection problem by using their shspf system to track a user augmented with a shoe sensor moving through a building  by constantly scanning for wifi they were able to build a radio map with little effort  they used this map to provide coarse portion-of-building position estimates with which to constrain the particles within their shs-pf as mentioned in the previous section  areas with densities of access points insufficient to support detailed wifi fingerprinting merely resulted in larger containment areas for the particles  representing the increased uncertainty   this approach can be inverted to use the pdr system to support wifi fingerprinting  the zee system proposes positioning primarily through fingerprinting  but with a radio map that is crowd-sourced from the subset of users with shscapable smartphones  23   the system used an shs-pf with a floor map in a similar manner to that described above  because it is not intended as the core location mechanism  the shspf component need only run when sufficient resources are available  although the more frequent this is  the more updates to the radio map are possible  in  23   rai at al  describe a 15-hour test with a single user that successfully builds a wifi radio map over the course of a few hours  full crowdsourcing  with multiple users and heterogeneous devices  was left as future work  but this is a promising direction  faragher et al  described a hybrid system that did not depend on a centrally-established database of signals  nor on a pre-supplied building map  24   it took as input an shs based on an accelerometer and compass  as well as radio signal strength measurements from the wifi and gsm cellular radios  it divided the building area into a regular grid and applied a simultaneous localisation and mapping  slam  technique to correct drift  the basis of this approach was to constantly monitor the radio fingerprints to detect any loops in the path taken  the loops could then be used as a constraint to recompute the full path taken  ferris et al  have also developed their wifislam system  58  into a commercial venture that uses shs input in a similar manner8 for more details  viii  o pen r esearch i ssues pdr systems are still in their infancy  major issues include  consistent evaluation methodologies and metrics  there is presently little consensus regarding how to evaluate pdr systems  which hinders their comparison  the outputs from a system can be affected by the characteristics of the test subjects  by the building size  layout and construction materials  or by the test procedure followed  including duration and the degree of natural activity   it is common to report results for a single user over a series of contrived walking tests  such tests serve as proof-of-concept but there is a growing need 8 see http  //wifislam.com harle  a survey of indoor inertial positioning systems for pedestrians for thorough system evaluations over sustained periods with a diverse set of test subjects  unconstrained sensor sites  smartphone-based pdr systems are highly attractive  but they introduce new difficulties by loosening the attachment constraints  any deployed system must cope with the sensors changing orientation in a pocket  or being taken out to use  etc  in addition  there is often a heading offset between the direction a smartphone is facing and the direction the user is moving  this offset must be accounted for if using absolute heading measurements from a compass  sensor calibration  the output of mems sensors will vary over time as temperature and other environmental effects affect their bias and scaling factors9  where foot-mounted sensors are used  zupts permit measurement and adaptation to the current bias  however  for unconstrained smartphones there is typically no opportunity to estimate the sensor biases online  and no opportunity to perform a user-controlled recalibration  this is particularly important for the heading estimation  possible solutions to this problem include deriving constraints from the ambulatory movement and incorporating a feedback loop from a map-matching stage  for example  a gyroscope bias in the horizontal plane would produce a curved path  if a higher-level particle filter determined the most likely movement was in a straight line  a per-step horizontal heading bias might be used to correct future heading measurements  battery power requirements  in the move to mobile devices such as smartphones  it is important to understand the associated energy costs  an shs-pf system utilising gyroscope  accelerometers  magnetometers and wifi signals will put a large draw on the available battery power  understating which sensors are required and when will be crucial to maintaining sufficient system users  processing power requirements  similarly  the processing power demanded by the bandpass filters  peak detectors  autocorrelators or particle filters in pdr systems can not be overlooked  understanding how to deploy these systems online on the devices themselves  and not offline on desktop machines as with most current literature  will be important  with particle filters in particular  there are parallelisation opportunities that might be able to exploit the imminent wave of gpu-enabled smartphones  wearability  the three research systems in section vi-a are all built on shs-ins foot-mounted systems  this ensures high quality pdr input to the particle filter  but foot-mounted systems are impractical  to enable larger scale  more natural testing  it will be necessary to have pdr techniques that do not require foot-mounting  to date  this implies a need for an shs approach  initialisation  bootstrapping the particle filter with an shspf is a significant challenge  work is needed to understand the necessary number of particles for a given map and the expected time taken before a user is unambiguously tracked  1291 for strapdown inertial navigation in the military domain and sensor fusion in the robotics domain to apply to the lessconstrained motion of walking  demonstrated systems have made use of the small  inexpensive mems sensors that are now becoming ubiquitous through smartphone market penetration  the higher error characteristics of these sensors mean that high accuracy inertial navigation through the traditional triple integration is only possible for foot-mounted sensors  where strong constraints can be applied  away from the foot  step and heading systems  shss  have begun to dominate  where each step is identified and characterised in terms of a length and heading vector  sub-metre tracking errors have now been demonstrated throughout a large  three-story building with the use of mapmatching through a particle filter and foot-mounted sensor  a pure pdr system may be able to track a constantly-walking user indefinitely if the path they take through the building allows wall constraints to be regularly applied  difficulties arise during periods of non-walking activity  when false positives and false negatives in the step detection  combined with compass and gyroscope errors will contribute positional error that will accrue over time  for many building users  however  the bulk of the day is spent seated in a small number of locations  with walking transitions between them  under such circumstances a pure pdr system may be able to offer room-level tracking by weighting the position estimates towards likely rooms  their own office rather than that of their neighbour  for example   more generally  however  occasional absolute position corrections from an external positioning system will be required for long-term tracking  there are many choices for an absolute positioning system to partner a pdr system  to date  the emphasis has been on including wifi radio mapping and this shows great promise with significant scope for innovation  crucial in this context is that the advantages and disadvantages of the two systems broadly counter each other  pdr drift can be addressed using wifi positions ; map surveying is eased by crowd-sourcing from pdr handsets  this should also apply to other system pairingsfor example  passive rfid systems allow users to be inexpensively tagged but need a large number of deployed readers to achieve complete coverage  combined with a pdr system  however  complete coverage is not necessary  the readers need only supply occasional position/proximity fixes at strategic locations  with the pdr system filling in between  this eases installation and maintenance  it seems likely we will see the emergence of hybrid systems with a variety of positioning modalities to augment pdr  absolute position fixes will be obtained opportunistically from whatever is installed in the current buildingbe it wifi  bluetooth  gsm  rfid  or some future communications medium  the current high-level shs-pf architecture allows for great flexibility and can be used to power such hybrid systems  ix  c onclusions this work has surveyed inertial pedestrian dead reckoning  pdr  systems  these have successfully adapted techniques 9 each sensor channel is subject to bias  which is a temperature-related offset in the output  x acknowledgements the author would like to thank the reviewers of this article for their detailed and insightful comments that greatly improved this work  1292 ieee communications surveys & tutorials  vol  15  no  3  third quarter 2013 r eferences  1  j hightower and g borriello  location systems for ubiquitous computing  computer  vol  34  no  8  pp  5766  2001   online   available  http  //ieeexplore.ieee.org/xpl/articledetails.jsp ? arnumber=940014  2  g sun  j chen  w guo  and k liu  signal processing techniques in network-aided positioning  a survey of state-of-the-art positioning designs  iee signal processing mag  vol  22  no  4  pp  12 23  july 2005   3  h liu  h darabi  p banerjee  and j liu  survey of wireless indoor positioning techniques and systems  ieee trans  syst  man cybern  c appl  rev  vol  37  no  6  pp  1067 1080  nov 2007   4  y gu  a lo  and i niemegeers  a survey of indoor positioning systems for wireless personal networks  ieee commun  surveys tutorials  vol  11  no  1  pp  13 32  quarter 2009   5  m a ergin  k ramachandran  and m gruteser  understanding the effect of access point density on wireless lan performance  in proc  13th annual acm international conference on mobile computing and networking  ser  mobicom 07 new york  ny  usa  acm  2007  pp  350353   online   available  http  //doi.acm.org/10.1145/1287853.1287902  6  f aubeck  c isert  and d gusenbauer  camera based step detection on mobile phones  in indoor positioning and indoor navigation  ipin   2011 international conference on  sept 2011  pp  1 7   7  r harle  s taherian  m pias  g coulouris  a hopper  j cameron  j lasenby  g kuntze  i bezodis  g irwin  and d kerwin  towards real-time profiling of sprints using wearable pressure sensors  computer communications  vol  35  no  6  pp  650 660  2012   online   available  http  //www.sciencedirect.com/science/article/pii/s0140366411001265  8  q wang  x zhang  x chen  r chen  w chen  and y chen  a novel pedestrian dead reckoning algorithm using wearable emg sensors to measure walking strides  in 2010 ubiquitous positioning indoor navigation and location based service  ieee  oct 2010  pp  18   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=5653821  9  q ladetto  on foot navigation  continuous step calibration using both complementary recursive prediction and adaptive kalman filtering  ion gps  vol  2000  no  perrin  pp  17351740  2000   online   available  http  //www.ladetto.ch/laq/publications/ion2000 ql.pdf  10  c randell  c djiallis  and h muller  personal position measurement using dead reckoning  seventh ieee international symposium on wearable computers 2003 proceedings  pp  166173  2003   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=1241408  11  r stirling  j collin  k fyfe  and g lachapelle  an innovative shoe-mounted pedestrian navigation system  in gnss 2003  graz  austria  2225 april   2003   online   available  http  //www.citeulike.org/user/fish2000/article/4026900  12  j w kim and c park  a step  stride and heading determination for the pedestrian navigation system  technology  vol  3  no  1  pp  273279  2005   online   available  http  //www.scirp.org/journal/paperdownload.aspx ? paperid=282 & amp ; filename=nav20040100034 69728139.pdf  13  r jirawimut  p ptasinski  v garaj  f cecelja  and w balachandran  a method for dead reckoning parameter correction in pedestrian navigation system  ieee trans  instrum  meas  vol  52  no  1  pp  209215  2003   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=1191431  14  j saarinen  j suomela  s heikkila  m elomaa  and a halme  personal navigation system  2004 ieeersj international conference on intelligent robots and systems iros ieee cat no04ch37566  pp  212217  2004   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=1389354  15  s godha  g lachapelle  and m e cannon  integrated gps / ins system for pedestrian navigation in a signal degraded environment  ion gnss 2006 fort worth tx  vol  2006  no  september  pp  2629  2006   online   available  http  //plan.geomatics.ucalgary.ca/papers/06 ion gnss godha et al session a5.pdf  16  m klepal and s beauregard  a backtracking particle filter for fusing building plans with pdr displacement estimates  2008 5th workshop on positioning navigation and communication  vol  2008  pp  207212  2008   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=4510376  17  b krach and p roberston  cascaded estimation architecture for integration of foot-mounted inertial sensors  in position location and navigation symposium 2008 ieeeion   18   19   20   21   22   23   24   25   26   27   28   29   30   31   32   33   34  no  1 ieee  2008  pp  112119   online   available  http  //ieeexplore.ieee.org/xpls/abs all.jsp ? arnumber=4570047 w soehren and w hawkinson  prototype personal navigation system  ieee aerosp  electron  syst  mag  vol  23  no  4  pp  1018  apr  2008   online   available  http  //ieeexplore.ieee.org/xpl/freeabs all.jsp ? arnumber=4493437 a r jimenez  f seco  c prieto  and j guevara  a comparison of pedestrian dead-reckoning algorithms using a low-cost mems imu  2009 ieee international symposium on intelligent signal processing  pp  3742  2009   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=5286542 s beauregard  a helmet-mounted pedestrian dead reckoning system  sensors peterborough nh  pp  1516  2006   online   available  http  //citeseerx.ist.psu.edu/viewdoc/download ? doi=10.1.1.113.6770 & am p ; rep=rep1 & amp ; type=pdf o woodman and r harle  pedestrian localisation for indoor environments  in proc  10th international conference on ubiquitous computing  acm  2008  pp  114123  rf-based initialisation for inertial pedestrian tracking  pervasive computing 7th international conference pervasive 2009 nara japan may 1114 2009 proceedings  vol  5538  pp  238255  2009   online   available  http  //books.google.com/books ? hl=en & amp ; lr= & amp ; id=5tbd9cctjtkc & amp ; oi=fnd & amp ; pg=pa238 & amp ; dq=rf-based+initialisation+for+i nertial+pedestrian+tracking & amp ; ots=qt4asxjx6j & amp ; sig=sxznz wouhwcxie dh2rxlhedply a anshul rai  k k chintalapudi  p venkat  and r sen  zee  zero-effort crowdsourcing for indoor localization  in proc  18th annual international conference on mobile computing and networking  mobicom   august 2012 r faragher  c sarno  and m newman  opportunistic radio slam for indoor navigation using smartphone sensors  in position location and navigation symposium  plans   2012 ieee/ion  april 2012  pp  120 128 h leppkoski  j collin  and j takala  pedestrian navigation based on inertial sensors  indoor map  and wlan signals  j signal processing systems  pp  110  2012   online   available  http  //dx.doi.org/10.1007/s11265-012-0711-5 c t judd  a personal dead reckoning module  in ion gps  vol  97  1997  pp  15   online   available  http  //www1.cs.columbia.edu/ drexel/candexam/drm ion97paper.pdf e foxlin  pedestrian tracking with shoe-mounted inertial sensors  ieee computer graphics and applications  vol  25  no  6  pp  3846  nov 2005   online   available  http  //dl.acm.org/citation.cfm ? id=1100858.1100874 s godha and g lachapelle  foot mounted inertial system for pedestrian navigation  measurement science and technology  vol  19  no  7  p 075202  2008   online   available  http  //stacks.iop.org/09570233/19/i=7/a=075202 ? key=crossref.62f138def5eb253e6b2e377c08aaa1 7e k frank  b krach  n catterall  and p robertson  development and evaluation of a combined wlan and inertial indoor pedestrian positioning system  sep 2009   online   available  http  //elib.dlr.de/54517/2/hybridindoorpositioning.pdf p robertson  m angermann  b krach  and m khider  inertial systems based joint mapping and positioning for pedestrian navigation  building  pp  20962107  2009   online   available  http  //elib.dlr.de/60179/1/ion final footslam2.pdf s superiore and s anna  dead-reckoning method for personal navigation systems using kalman filtering techniques to augment inertial / magnetic sensing  advances  no  april  pp  251268  2009   online   available  http  //www.intechopen.com/source/pdfs/6333/intechdead reckoning method for personal navigation systems using kal man filtering techniques to augment inertial magnetic sensing.pdf f cavallo  a sabatini  and v genovese  a step toward gps/ins personal navigation systems  real-time assessment of gait by foot inertial sensing  in 2005 ieee/rsj international conference on intelligent robots and systems  ieee  2005  pp  11871191   online   available  http  //ieeexplore.ieee.org/xpl/freeabs all.jsp ? arnumber=1544967 p robertson  m angermann  and b krach  simultaneous localization and mapping for pedestrians using only footmounted inertial sensors  in proc  11th international conference on ubiquitous computing  ubicomp 09 new york  new york  usa  acm press  sep 2009  p 93   online   available  http  //dl.acm.org/citation.cfm ? id=1620545.1620560 m kourogi and t kurata  personal positioning based on walking locomotion analysis with self-contained sensors and a harle  a survey of indoor inertial positioning systems for pedestrians  35   36   37   38   39   40   41   42   43   44   45   46   47  wearable camera  in the second ieee and acm international symposium on mixed and augmented reality  2003 proceedings  ieee comput  soc  2003  pp  103112   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=1240693 n castaneda and s lamy-perbal  an improved shoemounted inertial navigation system  in 2010 international conference on indoor positioning and indoor navigation  ieee  sep 2010  pp  16   online   available  http  //ieeexplore.ieee.org/xpl/freeabs all.jsp ? arnumber=5646858 l ojeda and j borenstein  non-gps navigation with the personal dead-reckoning system  proc  spie  vol  6561  no  1  pp  65 610c65 610c11  2007   online   available  http  //link.aip.org/link/psisdg/v6561/i1/p65610c/s1 & agg=doi l fang  p antsaklis  l montestruque  m mcmickell  m lemmon  y sun  h fang  i koutroulis  m haenggi  m xie  and x xie  design of a wireless assisted pedestrian dead reckoning systemthe navmote experience  ieee trans  instrum  meas  vol  54  no  6  pp  23422358  dec 2005   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=1542534 h ying  c silex  a schnitzer  s leonhardt  m schiek  s leonhardt  t falck  p mahonen  and r magjarevic  4th international workshop on wearable and implantable body sensor networks  bsn 2007   ser  ifmbe proceedings  s leonhardt  t falck  and p mahonen  eds  berlin  heidelberg  springer berlin heidelberg  2007  vol  13   online   available  http  //www.springerlink.com/content/j6p5122528482578/ p goyal  v j ribeiro  h saran  and a kumar  strap-down pedestrian dead-reckoning system  in 2011 international conference on indoor positioning and indoor navigation  ieee  sep 2011  pp  17   online   available  http  //ieeexplore.ieee.org/xpl/freeabs all.jsp ? arnumber=6071935 t levi  r and judd  dead reckoning navigational system using accelerometer to measure foot impacts  1995 harvey weinberg  an-602  using the adxl202 in pedometer and personal navigation applications  analog devices  tech  rep  2002   online   available  http  //www.analog.com/static/importedfiles/application notes/513772624an602.pdf m dippold  personal dead reckoning with accelerometers  in third international forum on applied wearable computing ifawc2006  citeseer  2006   online   available  http  //scholar.google.com/scholar ? hl=en & btng=search & q=intitle  perso nal+dead+reckoning+with+accelerometers # 0 n wang  e ambikairajah  s redmond  b celler  and n lovell  classification of walking patterns on inclined surfaces from accelerometry data  in digital signal processing  2009 16th international conference on  july 2009  pp  1 4 s park  pedestrian inertial navigation with gait phase detection assisted zero velocity updating  in 2009 4th international conference on autonomous robots and agents  ieee  feb 2000  pp  336341   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=4803999 s beauregard and m klepal  indoor pdr performance enhancement using minimal map information and particle filters  in 2008 ieee/ion position  location and navigation symposium  ieee  2008  pp  141147   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=4570050 c toth  d a grejner-brzezinska  and s moafipoor  pedestrian tracking and navigation using neural networks and fuzzy logic  in 2007 ieee international symposium on intelligent signal processing  ieee  2007  pp  16   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=4447525 o j woodman  an introduction to inertial navigation  university of cambridge computer laboratory  \cite  goyal2011   tech  rep 696   48   49   50   51  1293 2007   online   available  http  //www.cl.cam.ac.uk/techreports/ucamcl-tr-696.pdf o woodman  pedestrian localisation for indoor environments  ph.d dissertation  university of cambridge  2010 m h afzal  v renaudin  and g lachapelle  assessment of indoor magnetic field anomalies using multiple magnetometers  in ion gnss  no  september  2010  pp  2124   online   available  http  //plan.geomatics.ucalgary.ca/papers/gnss10 multiplemagnetometers harisa 20sep10.pdf  magnetic field based heading estimation for pedestrian navigation environments  test  no  september  pp  2123  2011 j e bertram and a ruina  multiple walking speed-frequency relations are predicted by constrained optimization  j theoretical biology  vol  209  no  4  pp  44553  apr  2001   online   available  http  //dx.doi.org/10.1006/jtbi.2001.2279  52  s yang and q li  ambulatory walking speed estimation under different step lengths and frequencies  in 2010 ieee/asme international conference on advanced intelligent mechatronics  vol  24  no  17 ieee  jul  2010  pp  658663   online   available  http  //pubget.com/paper/pgtmp b9eb4337a72a54df9fd9c76a5023be80  53  o woodman and r harle  pedestrian localisation for indoor environments  in proc  10th international conference on ubiquitous computing  ubicomp 08 new york  new york  usa  acm press  sep 2008  p 114   online   available  http  //dl.acm.org/citation.cfm ? id=1409635.1409651  54  k abdulrahim  c hide  t moore  and c hill  using constraints for shoe mounted indoor pedestrian navigation  j navigation  vol  65  no  01  pp  1528  jan 2012   online   available  http  //journals.cambridge.org/abstract s0373463311000518  55  j hightower and g borriello  particle filters for location estimation in ubiquitous computing  a case study  computing  vol  vol  pp  88106  2004   online   available  http  //www.springerlink.com/index/uyhre47hg6junvn4.pdf  56  b krach and p robertson  integration of foot-mounted inertial sensors into a bayesian location estimation framework  2008 5th workshop on positioning navigation and communication  vol  2008  no  2  pp  5561  2008   online   available  http  //ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm ? arnumber=4510357  57  u steinhoff and b schiele  dead reckoning from the pocket an experimental study  in pervasive computing and communications  percom   2010 ieee international conference on  29 2010-april 2 2010  pp  162 170   58  b ferris  d fox  and n lawrence  wifi-slam using gaussian process latent variable models  in proc  20th international joint conference on artifical intelligence  ser  ijcai07  san francisco  ca  usa  morgan kaufmann publishers inc  2007  pp  24802485   online   available  http  //dl.acm.org/citation.cfm ? id=1625275.1625675 robert harle received the m.sci  degree in physics and the ph.d degree in engineering from the university of cambridge  uk  he is now a lecturer in the cambridge university computer laboratory and a fellow of downing college  cambridge  his research interests include all forms of wired and wireless sensing  with a particular focus on indoor positioning and wearable sensors for sport and health  