58 ieee communications letters  vol  13  no  1  january 2009 single-anchor indoor localization using a switched-beam antenna gianni giorgetti  alessandro cidronali  member  ieee  sandeep k s gupta  senior member  ieee  and gianfranco manes  senior member  ieee y 3 4 z 2 1 m index termsdirectional antenna  switched-beam  localization  proximity  doa  fingerprinting  s ii  a ntenna the antenna mounted on the bs was designed with the goal to implement a compact  low-cost system with a steerable beam capable of selectively illuminating the space underneath the bs and collecting information useful for target localization  manuscript received september 30  2008 the associate editor coordinating the review of this letter and approving it for publication was h.-h chen  g giorgetti and s k s gupta are with the impact lab  impact.asu.edu   arizona state university  tempe  az 85287  usa  e-mail   gianni.giorgetti  sandeep.gupta  @ asu.edu   a cidronali and g manes are with the department of electronics and telecommunications of the university of florence  italy  e-mail   alessandro.cidronali  gianfranco.manes  @ unifi.it   digital object identifier 10.1109/lcomm.2009.081584 y 6.36 x -4.89 face2 z 1.55 x -11.30 35 m 5 i i ntroduction mart antennas have been used to implement localization systems based on angle of arrival  aoa  estimation  1    5   this approach improves over received signal strength  rss  ranging schemes for two reasons  first  aoa estimates can be obtained without assumptions on the propagation model that relates the rss to the distance  second  aoa-based localization requires only two anchors  while at least three reference nodes are needed when using distance estimates  we take the directional approach one step further by proposing an indoor localization system with a single anchor node  the node  which serves as a base station  bs   is equipped with a switched-beam antenna  fig  1  that is installed on the ceiling of any large indoor space  in a position unobtrusive to the users  thanks to the 3d arrangement of the antenna faces  the system can locate a target by estimating both the azimuth t and elevation t aoa of the incoming messages  our solution targets applications in large rooms or indoor open spaces where installing a network of anchors is not desirable or feasible  possible application scenarios include low-cost deployments and ad-hoc applications  e.g  emergency response   to accommodate for different sets of requirements in terms of accuracy and costs  we propose three localization solutions  we describe a range-free  proximity   a rangebased and a fingerprinting localization approach  the proposed schemes  which are evaluated using rss traces from a real deployment  show that satisfactory localization results are possible using a single anchor node  face1 directivity  db  abstractwe propose an rf-based localization system that works using a single anchor node  the anchor is equipped with a switched-beam directional antenna that is installed on the ceiling of a room and collects signal strength information sufficient for absolute 2d target positioning  indoor measurements are used to show satisfactory localization results with range-free  proximity   range-based and fingerprinting schemes  6 -17.73 a  b  fig  1 a  bottom-up view of the switched-beam directional antenna  b  simulated radiation patterns when faces 1 and 2 are active  the proposed solution is an incoherent array of six adjacent radiating elements  assembled to form a semi dodecahedron  see fig  1a   each element is implemented in microstrip antenna technology on a pentagonal plastic substrate and fed by a coaxial probe  the operating frequency is 2.45 ghz with a bandwidth compatible with ieee 802.11 and ieee 802.15.x devices such as wlan  bluetooth and zigbee transceivers  given the intended use in indoor applications  we adopted a circular polarization design that has proven useful in mitigating multipath effects in reflective environments  2   a single-pole six-through rf switch is used to multiplex each radiating element  under control of the bs  the switch connects one of the six radiators to the transceiver  the inactive faces  which are terminated on matched loads  behave as dummy loads  without significantly perturbing the radiation pattern of the active patch  figure 1b shows two of the six radiation patterns simulated using the ansoft hfss software1  the directivity is typical to that of a microstrip antenna  with the main lobe pointing in the direction perpendicular to the active face  iii  l ocalization we have implemented a proof-of-concept application where the antenna is used to estimate the position  xt  yt  of a mobile target in a large classroom containing rows of desks and chairs  the antenna was placed approximately in the center of the room  two meters above the desks  and with the face 1 pointing toward the floor  we collected rss traces on a 6 4 grid  see fig  2  by exchanging bursts of 100 messages between the target and each of the six antenna faces  we have used the measured data to evaluate the performance of three different localization algorithms described in the following sections  1 http  //www.ansoft.com/products/hf/hfss/ c 2009 ieee 1089-7798/09 $ 25.00  giorgetti et al   single-anchor indoor localization using a switched-beam antenna by comparing the gains gi  m  x  y   seen in different locations of the deployment area  see top row of fig  3   direction of arrival  doa  base station  bs  + sw beam antenna targets position  xt  yt  z  m  2 1 si =   x  y   gi  m  x  y   > gj  m  x  y    i = j   2 0 -2 grid points 0 2 y  m  -2 -4 4 x  m  fig  2 deployment area and 6 4 measurement grid  the grid covers an area measuring 7.2 m 8 m both the bs and the target use a ti cc2420 transceivers set to transmit at -15 dbm  a principle of operations let the pair of angles  t  t  define the direction of arrival  doa  of the targets messages  according to the friis equation  the received power depends on the targets distance and antenna gains gi  t  t  obtained from the radiation patterns in fig  1b  given the small antenna dimensions  all the faces are at about the same distance from the target ; therefore  the differences in received power  in db  between two faces i and j will only depend on their gains  pi pj = gi  t  t  gj  t  t    xt  yt  simax  with imax = arg max  zi    i   1  b range-free localization  proximity  the first approach we evaluate is a range-free scheme that provides coarse-grained localization  this solution bears resemblance to a simple proximity-based scheme  but instead of relying on a set of anchor nodes  it only uses measurements from the switched-beam antenna  to implement our solution  we use the radiation patterns and  2  to partition the deployment area in a set of nonoverlapping regions s1      s6  these regions are computed c range-based localization  doa estimation  the second solution implemented uses the measured rss values to estimate the doa  t  t  of the incoming pack  top row  and normalized rss measurements on the grid  bottom row  grid y 1 2 0 s2 2 4 3 s3 s4 4 -2 -4 5 6 -6 0.6 0.4 0.2 1 2 3 4 5 6 normalized rss 0.8 antenna gains  db  s6 s5 s1  i  where zi is the mean of the rss values zi =  z1  z2      collected by each face i note that the computational requirements of this approach are minimal because the regions si are computed off-line and only depend on the antenna position and its radiation patterns  in particular  by varying the antennas height it is possible to adjust the size of the areas si and control how the deployment area is partitioned  we used the measured rss data  see bottom row of fig  3  to evaluate the result of the assignment  4   figure 4a shows the deployment area partitioned according to the areas si and the classification results on the 6 4 grid points  to each point we assigned an error equal to the distance between its position and the center of the area simax computed using  4   the average error is equal to 2.34 m although the resolution is limited to the six areas si  the simplicity of this approach is attractive to applications that can tolerate approximate positions  the results could be further improved by computing the regions si using more sophisticated models  such as the ray tracing approach adopted in  7   in the following sections we will show how the above relation can be exploited to estimate the targets position  projection of the antenna gains  4  i  1,6  note that  with fixed antenna position and assuming targets movements in the plane z = 0  there is a one-to-one correspondence between the doa  t  t  and the targets position  xt  yt   we let m be the bijective function that describes the mapping   2  m   xt  yt   t  t   grid x  3  each area si contains the locations that are best illuminated by face i in an ideal environment  face i would receive the strongest signal  compared to the other faces  for any message sent from locations  xt  yt  si  assuming a more realistic propagation model  the constraints on the rss can only be formulated in a statistical sense  for example  when the signal is described by the widely adopted log-normal shadowing model  6   the average rss  in db  follows a normal distribution  in this case  each area si contains the locations where the statical expectation for the power on face i is larger than the expected values on the other faces  based on the previous observations  at runtime we assign the targets position to the area si that corresponds to the face measuring the strongest  average  signal  4 0 -4 59 0 fig  3 top  antenna gains of faces 1 to 6 at different locations of the deployment area  bottom  measured rss values from the six antenna faces on the 6 4 grid  to facilitate comparison with the gain values  the rss values are centered on their mean and normalized in the range  0  1   60 ieee communications letters  vol  13  no  1  january 2009 proximity classication 5 1 4 -2 s4 fig  4  5 5 5 4 0 y  m  6 1 1 4 2 3 4 2 4 2 0 s3 -2 -4 a  2 1 4 3 3 4 3 2 3 3 m antenna s2 2 2 1.69 x  m  1 0 -4 4 2 1 0 -2 0 -2 2 y  m  -4 4 x  m  0 avg  err  = m 3 2 2 1 0 -4 4 2 1 x  m  0 0 -2 0 y  m  b  2.32 antenna z  m  z  m  6 2 m z  m  6 2 0 -4 s1 antenna avg  err  =  xt  yt  = m1  t  t    5  where  t  t  = arg max    pm     compared to the previous case  this method is computationally more expensive  but it allows for fine-grained localization  figure 4b shows the localization error using the same set of rss measurements of the previous case  we found an average localization error equal to 1.69 m this approach extends previous solutions exploiting beacons with directional antennas located on the targets plane  1    5   when doa estimation is limited to the azimuth angle t  single-anchor localization is not possible unless combined with distance estimates obtained from rss measurements  in our case  since both the azimuth t and elevation angles t are estimated  target positions in the z = 0 plane can be resolved without need of additional information  d fingerprinting the last solution tested is a fingerprinting scheme that estimates the targets position by comparing the rss on the six antennas faces against a database of previously measured values  this approach offers a low-computation solution that is oblivious of the rf propagation model and the antenna gains  on the downside  it requires a site survey to collect rss signatures at several locations of the deployment area  in our implementation we created the database by using the average rss values  z1      z6  collected on the 6 4 grid  see fig  3  ; we evaluated the localization error using a second set of similar measurements  each location was estimated by first computing the euclidean distance between the actual rss values and the stored measurements  and then applying a k-nearest neighbor  knn  regression algorithm  4   the better results were achieved by setting k = 1  which yielded an average localization error equal to 2.32 m  see fig  4b   we suspect that the large error on some grid points was caused by the different type of antenna mounted on the target device in the second round of measurements  7 6 5 4 3 2 -2 2 -4 4 c  localization results using a  proximity-based classification  b  doa estimation  and c  fingerprinting  ets  our implementation uses the popular multiple signal classification  music  approach  3   which applies spectral decomposition to the covariance matrix of the power readings on each face  the music algorithm produces a spectrum pm    that exhibits peaks for angles    close to the true doa  an example of such spectrum is shown in fig  5 after computing pm     we estimate the doa by selecting the angles that yield the maximum spectrum value ; then we apply the inverse of  2  to resolve the target position  localization error  m  s5 2.34 fingerprinting doa estimation localization error  m  avg  err  = s6 fig  5 music spectrum pm    represented in spherical coordinate system centered on the antenna  iv  c onclusions the proximity and range-based approaches discussed in sec  iii-b and iii-c are based on the doa of the targets messages  these schemes are suited for large rooms or indoor open spaces where line of sight  los  communication with the bs station can be ensured  outdoor localization can be also supported by placing the bs at a sufficient height  when los communication is possible  the results of our experiments show that single-anchor 2d localization is feasible using a low-cost system that requires zero-configuration  the reported results were obtained with an initial antenna prototype optimized for size and using simulated radiation patterns  we believe the error could be further reduced by using antenna faces with larger ground planes and radiation patterns measured in an anechoic chamber  we expect larger errors in cluttered environments and for non los communication  for such applications  the fingerprinting approach discussed in sec  iii-d represents a viable solution  the results are comparable to other fingerprinting solutions described in literature  4   and the use of a single anchor can alleviate the deployment costs when an infrastructure of anchors is not already available  acknowledgments we thank s maddio and s maurri for help in designing and building the antenna prototype ; f zucchelli and n corsi for help with measurements ; the anonymous reviewers for their helpful comments ; and nsf for support  r eferences  1  j n ash and l potter  sensor network localization via received signal strength measurements with directional antennas  in proc  allerton conf  on communication  control  and computing  18611870  2004   2  a kajiwara  line-of-sight indoor radio communication using circular polarized waves  ieee trans  veh  technol  vol  44  no  3  pp  487493  1995   3  h krim and m viberg  two decades of array signal processing research  the parametric approach  ieee signal proc  mag  vol  13  no  4  pp  6794  1996   4  h liu et al  survey of wireless indoor positioning techniques and systems  ieee trans  systems man and cybernetics  vol  37  no  6  pp  10671080  2007   5  d niculescu and b nath  vor base stations for indoor 802.11 positioning  in proc  mobicom04  pp  5869  2004   6  t s rappaport  wireless communications  principles and practice  prentice hall  inc  1996   7  g zaruba et al  indoor location tracking using rssi readings from a single wi-fi access point  wireless networks  vol  13  no  2  pp  221 235  2007  