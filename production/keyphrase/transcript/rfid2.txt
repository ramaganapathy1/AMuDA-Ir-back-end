58

IEEE COMMUNICATIONS LETTERS, VOL. 13, NO. 1, JANUARY 2009

Single-Anchor Indoor Localization Using a Switched-Beam Antenna
Gianni Giorgetti, Alessandro Cidronali, Member, IEEE,
Sandeep K. S. Gupta, Senior Member, IEEE, and Gianfranco Manes, Senior Member, IEEE
y

3
4

z

2

1

m

Index Terms—Directional antenna, switched-beam, localization, proximity, DOA, fingerprinting.

S

II. A NTENNA
The antenna mounted on the BS was designed with the
goal to implement a compact, low-cost system with a steerable
beam capable of selectively illuminating the space underneath
the BS and collecting information useful for target localization.
Manuscript received September 30, 2008. The associate editor coordinating
the review of this letter and approving it for publication was H.-H. Chen.
G. Giorgetti and S. K. S. Gupta are with the IMPACT Lab (impact.asu.edu),
Arizona State University, Tempe, AZ 85287, USA (e-mail: {gianni.giorgetti,
sandeep.gupta}@asu.edu).
A. Cidronali and G. Manes are with the Department of Electronics and Telecommunications of the University of Florence, Italy (e-mail:
{alessandro.cidronali, gianfranco.manes}@unifi.it).
Digital Object Identifier 10.1109/LCOMM.2009.081584

y

6.36

x

-4.89

Face2

z

1.55

x

-11.30

35

m

5

I. I NTRODUCTION
MART antennas have been used to implement localization
systems based on Angle of Arrival (AOA) estimation [1],
[5]. This approach improves over Received Signal Strength
(RSS) ranging schemes for two reasons. First, AOA estimates
can be obtained without assumptions on the propagation model
that relates the RSS to the distance. Second, AOA-based
localization requires only two anchors, while at least three
reference nodes are needed when using distance estimates.
We take the directional approach one step further by proposing an indoor localization system with a single anchor node.
The node, which serves as a Base Station (BS), is equipped
with a switched-beam antenna (Fig. 1) that is installed on the
ceiling of any large indoor space, in a position unobtrusive to
the users. Thanks to the 3D arrangement of the antenna faces,
the system can locate a target by estimating both the azimuth
θt and elevation φt AOA of the incoming messages.
Our solution targets applications in large rooms or indoor
open spaces where installing a network of anchors is not
desirable or feasible. Possible application scenarios include
low-cost deployments and ad-hoc applications (e.g. emergency
response). To accommodate for different sets of requirements
in terms of accuracy and costs, we propose three localization
solutions. We describe a range-free (proximity), a rangebased and a fingerprinting localization approach. The proposed schemes, which are evaluated using RSS traces from
a real deployment, show that satisfactory localization results
are possible using a single anchor node.

Face1

Directivity [dB]

Abstract—We propose an RF-based localization system that
works using a single anchor node. The anchor is equipped with a
switched-beam directional antenna that is installed on the ceiling
of a room and collects signal strength information sufficient for
absolute 2D target positioning. Indoor measurements are used to
show satisfactory localization results with range-free (proximity),
range-based and fingerprinting schemes.

6

-17.73

a)

b)

Fig. 1.
a) Bottom-up view of the switched-beam directional antenna.
b) Simulated radiation patterns when faces 1 and 2 are active.

The proposed solution is an incoherent array of six adjacent
radiating elements, assembled to form a semi dodecahedron
(see Fig. 1a). Each element is implemented in microstrip
antenna technology on a pentagonal plastic substrate and
fed by a coaxial probe. The operating frequency is 2.45
GHz with a bandwidth compatible with IEEE 802.11 and
IEEE 802.15.x devices such as WLAN, Bluetooth and ZigBee
transceivers. Given the intended use in indoor applications, we
adopted a circular polarization design that has proven useful
in mitigating multipath effects in reflective environments [2].
A single-pole six-through RF switch is used to multiplex
each radiating element. Under control of the BS, the switch
connects one of the six radiators to the transceiver. The
inactive faces, which are terminated on matched loads, behave
as dummy loads, without significantly perturbing the radiation
pattern of the active patch. Figure 1b shows two of the six
radiation patterns simulated using the Ansoft HFSS software1 .
The directivity is typical to that of a microstrip antenna, with
the main lobe pointing in the direction perpendicular to the
active face.
III. L OCALIZATION
We have implemented a proof-of-concept application where
the antenna is used to estimate the position (xt , yt ) of a mobile
target in a large classroom containing rows of desks and chairs.
The antenna was placed approximately in the center of the
room, two meters above the desks, and with the face 1 pointing
toward the floor. We collected RSS traces on a 6 × 4 grid (see
Fig. 2) by exchanging bursts of 100 messages between the
target and each of the six antenna faces. We have used the
measured data to evaluate the performance of three different
localization algorithms described in the following sections.
1 http://www.ansoft.com/products/hf/hfss/

c 2009 IEEE
1089-7798/09$25.00 

GIORGETTI et al.: SINGLE-ANCHOR INDOOR LOCALIZATION USING A SWITCHED-BEAM ANTENNA

by comparing the gains Gi (m(x, y)) seen in different locations
of the deployment area (see top row of Fig. 3):

Direction of Arrival (DOA)
Base Station (BS) +
Sw. Beam Antenna

Target’s Position

(xt , yt )

Z [m]

2
1

Si = {(x, y) : Gi (m(x, y)) > Gj (m(x, y)), ∀i = j}.

2
0
-2

Grid Points

0

2
Y [m]

-2
-4

4

X [m]

Fig. 2. Deployment area and 6 × 4 measurement grid. The grid covers an
area measuring 7.2 m × 8 m. Both the BS and the target use a TI CC2420
transceivers set to transmit at -15 dBm.

A. Principle of operations
Let the pair of angles (φt , θt ) define the Direction of Arrival
(DOA) of the target’s messages. According to the Friis’ equation, the received power depends on the target’s distance and
antenna gains Gi (φt , θt ) obtained from the radiation patterns
in Fig. 1b. Given the small antenna dimensions, all the faces
are at about the same distance from the target; therefore, the
differences in received power (in dB) between two faces i and
j will only depend on their gains:
Pi − Pj = Gi (φt , θt ) − Gj (φt , θt ).

(x̂t , ŷt ) ∈ Simax , with imax = arg max {z¯i },
(i)

(1)

B. Range-Free Localization (Proximity)
The first approach we evaluate is a range-free scheme
that provides coarse-grained localization. This solution bears
resemblance to a simple proximity-based scheme, but instead
of relying on a set of anchor nodes, it only uses measurements
from the switched-beam antenna.
To implement our solution, we use the radiation patterns
and (2) to partition the deployment area in a set of nonoverlapping regions S1 , . . . , S6 . These regions are computed

C. Range-Based Localization (DOA Estimation)
The second solution implemented uses the measured RSS
values to estimate the DOA (φ̂t , θ̂t ) of the incoming pack-

(top row) and normalized RSS measurements on the

grid (bottom row)

grid y

1

2
0

S2
2

4

3

S3

S4
4

-2
-4

5

6

-6

0.6
0.4
0.2

1

2

3

4

5

6

Normalized RSS

0.8

Antenna gains [dB]

S6

S5
S1

(i)

where z¯i is the mean of the RSS values zi = {z1 , z2 , . . .}
collected by each face i. Note that the computational requirements of this approach are minimal because the regions Si are
computed off-line and only depend on the antenna position and
its radiation patterns. In particular, by varying the antenna’s
height it is possible to adjust the size of the areas Si and
control how the deployment area is partitioned.
We used the measured RSS data (see bottom row of Fig. 3)
to evaluate the result of the assignment (4). Figure 4a shows
the deployment area partitioned according to the areas Si and
the classification results on the 6 × 4 grid points. To each
point we assigned an error equal to the distance between its
position and the center of the area Simax computed using (4).
The average error is equal to 2.34 m. Although the resolution
is limited to the six areas Si , the simplicity of this approach
is attractive to applications that can tolerate approximate
positions. The results could be further improved by computing
the regions Si using more sophisticated models, such as the
ray tracing approach adopted in [7].

In the following sections we will show how the above relation
can be exploited to estimate the target’s position.

Projection of the Antenna Gains

(4)

i∈[1,6]

Note that, with fixed antenna position and assuming target’s
movements in the plane z = 0, there is a one-to-one correspondence between the DOA (φt , θt ) and the target’s position
(xt , yt ). We let m be the bijective function that describes the
mapping:
(2)
m : (xt , yt ) −→ (φt , θt ).

grid x

(3)

Each area Si contains the locations that are best illuminated
by face i. In an ideal environment, face i would receive
the strongest signal (compared to the other faces) for any
message sent from locations (xt , yt ) ∈ Si . Assuming a more
realistic propagation model, the constraints on the RSS can
only be formulated in a statistical sense. For example, when
the signal is described by the widely adopted log-normal
shadowing model [6], the average RSS (in dB) follows a
normal distribution. In this case, each area Si contains the
locations where the statical expectation for the power on face i
is larger than the expected values on the other faces.
Based on the previous observations, at runtime we assign
the target’s position to the area Si that corresponds to the face
measuring the strongest (average) signal:

4

0
-4

59

0

Fig. 3. Top: antenna gains of faces 1 to 6 at different locations of the deployment area. Bottom: measured RSS values from the six antenna faces on the
6 × 4 grid. To facilitate comparison with the gain values, the RSS values are centered on their mean and normalized in the range [0, 1].

60

IEEE COMMUNICATIONS LETTERS, VOL. 13, NO. 1, JANUARY 2009

Proximity Classication

5

1
4
-2

S4
Fig. 4.

5

5

5

4
0
Y [m]

6

1

1
4
2

3
4

2

4
2
0

S3

-2
-4

a)

2

1

4

3

3

4

3

2

3

3

m

Antenna

S2

2

2

1.69

X [m]

1
0
-4

4
2

1

0
-2

0

-2
2

Y [m]

-4

4

X [m]

0

Avg.
Err.
=

m
3

2
2
1
0
-4

4
2

1

X [m]

0

0
-2

0
Y [m]

b)

2.32

Antenna

Z [m]

Z [m]

6

2

m

Z [m]

6

2

0
-4

S1

Antenna

Avg.
Err.
=

(x̂t , ŷt ) = m−1 (φ̂t , θ̂t ),

(5)

where (φ̂t , θ̂t ) = arg max(φ,θ) PM (φ, θ).
Compared to the previous case, this method is computationally more expensive, but it allows for fine-grained localization.
Figure 4b shows the localization error using the same set of
RSS measurements of the previous case. We found an average
localization error equal to 1.69 m.
This approach extends previous solutions exploiting beacons with directional antennas located on the target’s plane
[1], [5]. When DOA estimation is limited to the azimuth angle
θt , single-anchor localization is not possible unless combined
with distance estimates obtained from RSS measurements. In
our case, since both the azimuth θt and elevation angles φt are
estimated, target positions in the z = 0 plane can be resolved
without need of additional information.
D. Fingerprinting
The last solution tested is a fingerprinting scheme that
estimates the target’s position by comparing the RSS on the
six antenna’s faces against a database of previously measured
values. This approach offers a low-computation solution that
is oblivious of the RF propagation model and the antenna
gains. On the downside, it requires a site survey to collect
RSS signatures at several locations of the deployment area.
In our implementation we created the database by using the
average RSS values [z̄1 , . . . , z̄6 ] collected on the 6 × 4 grid
(see Fig. 3); we evaluated the localization error using a second
set of similar measurements. Each location was estimated
by first computing the Euclidean distance between the actual
RSS values and the stored measurements, and then applying
a K-Nearest Neighbor (KNN) regression algorithm [4]. The
better results were achieved by setting K = 1, which yielded
an average localization error equal to 2.32 m (see Fig. 4b).
We suspect that the large error on some grid points was
caused by the different type of antenna mounted on the target
device in the second round of measurements.

7
6
5
4
3
2

-2
2

-4

4

c)

Localization results using a) Proximity-based classification, b) DOA Estimation, and c) Fingerprinting.

ets. Our implementation uses the popular Multiple Signal
Classification (MUSIC) approach [3], which applies spectral
decomposition to the covariance matrix of the power readings
on each face. The MUSIC algorithm produces a “spectrum”
PM (φ, θ) that exhibits peaks for angles (φ, θ) close to the true
DOA. An example of such spectrum is shown in Fig. 5. After
computing PM (φ, θ), we estimate the DOA by selecting the
angles that yield the maximum spectrum value; then we apply
the inverse of (2) to resolve the target position:

Localization Error [m]

S5

2.34

FingerPrinting

DOA Estimation

Localization Error [m]

Avg.
Err.
=

S6

Fig. 5. MUSIC spectrum PM (φ, θ)
represented in spherical coordinate
system centered on the antenna.

IV. C ONCLUSIONS
The proximity and range-based approaches discussed in
Sec. III-B and III-C are based on the DOA of the target’s
messages. These schemes are suited for large rooms or indoor
open spaces where Line Of Sight (LOS) communication with
the BS station can be ensured. Outdoor localization can be
also supported by placing the BS at a sufficient height.
When LOS communication is possible, the results of our
experiments show that single-anchor 2D localization is feasible using a low-cost system that requires zero-configuration.
The reported results were obtained with an initial antenna
prototype optimized for size and using simulated radiation
patterns. We believe the error could be further reduced by
using antenna faces with larger ground planes and radiation
patterns measured in an anechoic chamber.
We expect larger errors in cluttered environments and for
non LOS communication. For such applications, the fingerprinting approach discussed in Sec. III-D represents a viable
solution. The results are comparable to other fingerprinting
solutions described in literature [4], and the use of a single
anchor can alleviate the deployment costs when an infrastructure of anchors is not already available.
ACKNOWLEDGMENTS
We thank S. Maddio and S. Maurri for help in designing and
building the antenna prototype; F. Zucchelli and N. Corsi for
help with measurements; the anonymous reviewers for their
helpful comments; and NSF for support.
R EFERENCES
[1] J. N. Ash and L. Potter, “Sensor network localization via received signal
strength measurements with directional antennas,” in Proc. Allerton Conf.
on Communication, Control, and Computing, 1861–1870, 2004.
[2] A. Kajiwara, “Line-of-sight indoor radio communication using circular
polarized waves,” IEEE Trans. Veh. Technol., vol. 44, no. 3, pp. 487–493,
1995.
[3] H. Krim and M. Viberg, “Two decades of array signal processing
research: the parametric approach,” IEEE Signal Proc. Mag., vol. 13,
no. 4, pp. 67–94, 1996.
[4] H. Liu et al., “Survey of wireless indoor positioning techniques and
systems,” IEEE Trans. Systems Man and Cybernetics, vol. 37, no. 6, pp.
1067–1080, 2007.
[5] D. Niculescu and B. Nath, “VOR base stations for indoor 802.11
positioning,” in Proc. MobiCom’04, pp. 58–69, 2004.
[6] T. S. Rappaport, Wireless Communications: Principles and Practice.
Prentice Hall, Inc., 1996.
[7] G. Zàruba et al., “Indoor location tracking using RSSI readings from a
single Wi-Fi access point,” Wireless Networks, vol. 13, no. 2, pp. 221–
235, 2007.

