Self-Calibrating RSSI-based Indoor Localization
with IEEE 802.15.4
Paolo Barsocchi ∗ , Stefano Lenzi ∗ , Stefano Chessa, Member, IEEE

∗†

∗ ISTI-CNR,

† Computer

Pisa Research Area, Via G.Moruzzi 1, 56124 Pisa, Italy
Science Department, University of Pisa, Largo B. Pontecorvo 3, 56127 Pisa, Italy

Abstract—The received signal strength indicator (RSSI) based
localization techniques are attractive because of their simplicity.
Since RSSI has become a standard feature in most wireless
devices, RSSI-based localization techniques does not require
additional hardware, and does not have a significant impact on
local power consumption, sensor size and thus cost. The path loss
exponent, and the wall attenuation factor are the key parameters
in the distance estimation based on RSSI. Existing techiniques,
exploit both RSSI and distance measurements to calibrate the
parameters. This procedure is very expensive in terms of time as
it requires human intervention. In this paper we propose a selfcalibration procedure which only exploits the measurements of
the RSSI between pairs of anchors. In particular we propose two
heuristics for self-calibration and we evaluate their performance
with respect to an ad-hoc calibration campaign by performing
measures in an indoor environment with an IEEE 802.15.4 sensor
network.
Index Terms—IEEE 802.15.4, indoor localization, selfcalibration, RSSI.

I. I NTRODUCTION
Context-aware systems unobtrusively assist people by predicting their needs. This prediction is often based on context
information acquired from the environment. To this purpose
they can exploit wireless networks of sensors [1] placed in
the environment or on the users themselves. The first efforts
to introduce context-awareness have been related to the localization of users [2], [3], [4], [5], and up to now localization is
still one of the main building blocks of context-aware systems.
The general solution based on Global Positioning System
(GPS) is unfortunately available only in outdoor environments.
In indoor environment a viable solution to localization of
users exploits wireless sensor networks. Sensor network-based
solutions estimate the (unknown) location of mobile sensors
(placed on the users) with respect to a set of fixed sensor
(called anchors), whose position is known, by estimating the
distances between the mobile node and a set of anchors. Once
these distances are known a standard multilateration technique
[1] or other methods [12] can be used to determine the mobiles
position. This means that the localization problem reduces
to the determination of the distances between arbitrary pairs
of sensor nodes. These distances can be estimated using a
number of inter-sensor measurements techniques, which can
be broadly classified into three categories: Received Signal
Work founded in part by the European Commission in the framework of the
FP6 projects PERSONA (contract N. 045459) and INTERMEDIA (contract
N.38419)

Strength Indicator (RSSI), angle of arrival (AOA), and propagation time based (TOF). Among them, RSSI-based localization techniques have received considerable research interest
[6], [7], [8], [9] as they do not require complex hardware.
In [8] the authors suggest that algorithms that estimate distances between two wireless devices based on their reciprocal
RSSI are unable to capture the myriad of effects on signal
propagation in an indoor environment. Nevertheless, in [6] the
authors have shown that despite the reputation of RSSI as a
coarse method to estimate range, it can achieve an accuracy of
about 1m RMS in a testbed experiment. Fading outliers can
still impair the RSSI relative location system, implying the
need for a robust estimator. A method to improve the quality
of localization exploiting a number of RSSI measurements
averaged in a time window to counteract interference and
fading has been proposed in [7]. The RADAR system [10]
uses the RSSI for determining the distance to known anchors.
In an offline phase, a centralized repository (database) of signal
strengths at various positions with respect to a set of anchors,
is built. During the online phase, the best fit of transmitters
RSSI to the existing data in the repository, is used for obtaining
a location. RADAR is capable of estimating the location of
a mobile user to within a few meters. Cricket is another
localization system [11] that uses a combination of radio and
acoustic signals to estimate the distance to known anchors.
Cricket can achieve a location granularity of 1.2 meters x 1.2
meters.
Although, previously study shown that RSSI-based localization techniques can only provide a coarse location estimate,
they are attractive because of their simplicity. Since RSSI has
become a standard feature in most wireless devices, RSSIbased localization techniques require no additional hardware,
and do not have a significant impact on local power consumption, sensor size and thus cost. The distance estimation
techniques exploiting RSSI rely on a radio propagation model.
In indoor environment these models also take into account
parameters such as the wall attenuation factor (WAF) and floor
attenuation factors (FAF) to model the effect of walls and
floors on the radio waves. Unfortunately, RSSI is environment
dependent, moreover in indoor environments, the wireless
channel is very noisy and the radio frequency signal can
suffer from reflection, diffraction and multipath effect, which
makes the signal strength a complex function of distance. To
overcome these problems, wireless location systems uses a

priori calibration of the propagation model. The calibration
works in two phases: the training phase and the estimation
phase. In the training phase it is measured the RSSI at a grid
of points in the area of interest, and in the estimation phase
this information is used to estimate the propagation model
parameters. Clearly, the accuracy of the calibration procedure
depends on the number of points in the grid and to the number
of measures taken per point. This procedure is very expensive
in terms of time as it requires human intervention, which is a
practical barrier to its wider adoption.
In this paper we use the same propagation model proposed
in [12] which we assume to be valid, and we consider a
self-calibration procedure which only exploits the measures of
the RSSI between pairs of anchors. In particular we propose
two heuristics for self-calibration and we evaluate their performance with respect to an ad-hoc calibration campaign by
performing measures in an indoor environment with an IEEE
802.15.4 sensor network. We show that the performance of
self-calibration in terms of accuracy of the estimated distances
is close to that achievable with more expensive, ad-hoc calibration procedures, and it is thus a viable alternative to simplify
the calibration of a localization system. The rest of this paper
is organized as follows: Section II describe the localization
model used, Section III depict the indoor propagation model
which we assume to be valid, Section IV describe the two
heurists used to calibrate the propagation model parameters,
in Section V we evaluate their performance with respect to
the ad-hoc calibration campaign. Finally, in Section VI we
conclude.
II. L OCALIZATION MODEL
In this paper we assume a localization model comprising a
set of anchors A = {a1 , a2 , . . . , an }, a set of mobile nodes
M = {m1 , m2 , . . . , mp } and a localization server L. The
anchors have well know position on the map, identified by
the pair (xi , yi ). Each anchor periodically emits a beacon
packet containg its identifier. The mobile nodes are those
which need to be localized by the system. To this purpose a
mobile node recieves the beacons from the anchors, for each
beacon computes the corresponding Received Signal Strength
Indicator (RSSI), and sends to the localization server the pair
< RSSI, anchor id >. The localization server accomulates
all the pairs of each mobile node and estimates the position
of the mobiles exploiting a suitable propagation model.
The propagation model is used to calculate the expected
RSSI map of the building. The RSSI map is evaluated only
for a grid of points. For each point of the grid with coordinates
(x, y), the map provides a n-dimensional vector S(x,y) ∈ Rn
defined as S(x,y) = {s1 , s2 , . . . , sn } where si is the expected
RSSI value from anchor ai .
Figure 1 shows an example of deployment of the anchors
in a building and the grid of points of the RSSI map.
III. I NDOOR PROPAGATION MODEL FOR IEEE 802.15.4
The large-scale path loss model considered in this paper is
summarized in this Section. Most researchers model the indoor

Fig. 1.

Map of the building used for testing our localization system

path loss with the one-slope model [6] , which assumes a linear
dependence between the path loss (dB) and the logarithm of
the distance d between the transmitter and the receiver:
¯
¯
L(d)¯ = l0 + 10α log10 (d)
(1)
dB

where l0 is the path loss at a reference distance of 1 meter
(throught the paper we express distances in meters) and α is
the power decay index (also called path loss exponent).
A generalization of the one-slope model is the two-slope
model suggested by [13] to approximate the two-ray propagation model.
The two-slope model is characterized by a break point that
separates the varius properties of propagation in near and
far regions relative to the transmitter. In fact, the path loss
exponent changes when the distance d is greater than the break
point. In particular, the authors in [13] describe the existence
of a transition region where the break point b is such that:

4πht hr
πht hr
<b<
.
(2)
λ
λ
where ht is the transmitter antenna height, hr is the receiver
antenna height, and λ is the wavelength of the radio signal.
However, in a typical sensor network scenario, the break
point distance is hundreds of meters, therefore in practice the
one-slope and the two-slope models are equivalent in indoor
scenarios where the rooms are only a few square meters in
size.
Although the one-slope model is simple to use, it does
not adequately account for the propagation characteristics in
indoor environments. In fact, a further generalization of the
one-slope model consists in adding an attenuation term due to
losses introduced by walls and floors penetrated by the direct
path:

¯
¯
L(d)¯

dB

= l0 + 10α log10 (d) + W AF + F AF

(3)

where F AF is the floor attenuation factor, and W AF is
the wall attenuation factor expressed as:
W AF =

N
X

ki li

(4)

i=1

where ki is the number of penetrated walls of type i, and li
is the attenuation due to the wall of type i. Since the sensor
devices were located on the same floor, the attenuation term
due to the propagation among different floors was not included
in (3).
A similar model was proposed in [12]. In their model they
introduce a multi-wall component. This factor also includes
the number of normal and fireproof doors and their status
(open/closed) met by the direct paths.
We observe that these parameters are important for the
802.11 based localization, due to the lower density of the
Access Points (the anchors of the system) deployed in the
indoor environment. This result in a cumebersome system to
handle for the end-user, since the status of the doors need to
be frequently updated. In our case we deal with a high anchor
density and the anchors have a reduced radio communication
range, thus the number of doors affecting direct paths is very
low. For this reason we neglect the door status and we use a
simplified model.
IV. C ALIBRATION TECHNIQUES
The objective of the calibration is to adapt the theoretical
propagation model to the enviroment where it is actually used.
Self-calibration achieves this goal without human intervention,
by exploiting only information obtained from the anchors. In
particular, the anchors prelimary exchange beacons to compute
reciprocal RSSI. The localization server uses this information
to configure the parameters of the theoretical propagation
model.
The paramaters of the propagation model Equation 3 are:
• l0 : is the path loss at distance of 1 meter;
• α: the air attenuation factor;
• li : the attenuation factor for the wall of type i.
Since l0 should be estimated in a free space and it is not
affected by the environment, it only depends on physical
properties of the devices hardware and it can be estimated
a priori, thus it is not object of self-calibration.
To calibrate parameters α and li we propose two heuristics:
global self-calibration (G-model) and per-wall self-calibration
(PW-model) comparing these with an ad-hoc calibration (Hmodel). G-model assigns the same parameters for every wall,
based on all RSSI measures obtained from any pair of anchors.
Instead, PW-model provides an attenuation factor for the walls
which directly affect the communication between specific pairs
of anchors, and it uses global-calibration for all the other
walls. The H-model, which has been used in many previous
works [6],[14], exploints the RSSI measurements on a grid of

points in the enviroment to estimate the propagation model
parameters.
Hereafter we use the following notation:
• C = {(ai , aj ) ∈ A : ai and aj can communicate directly}
• Ri = {aj1 , aj2 , . . . , ajn } is the set which contains the id
of all anchors in the same room, hence ∀(a, b) ∈ Ri : a 6=
b the communication between a and b is “wall-free”;
• Wn is the set of all pairs (ai , aj ) such that the communication channel between ai and aj crosses exactly n
wall(s);
A. global self-calibration
The G-model considers a single virtual type of wall. This
leads Equation (3) to:
¯
¯
L(d)¯ = l0 + 10α log10 (d) + klw
(5)
dB

where k identifies the number of wall crossed by the signal
and lw is the attenuation introduced by the wall on the signal.
During the self-calibration phase we can estimate all the
required parameters (l0 , α, lw ).
Substituting d(i,j) as actual distance between anchors ai and
aj , and k(i,j) as the number of wall crossed by the direct path
between anchors ai and aj in Equation (5), we want to obtain
′
an estimation RSSI(i,j)
of actual RSSI:
′
RSSI(i,j)

= l0 − 10αlog10 (d(i,j) ) +
+k(i,j) lw

∀i, j : (ai , aj ) ∈ C
(6)

′
RSSI(i,j)

The estimated
differs from the measured RSSI(i,j)
by an error component ε(i,j) . We assume that all ε are
identically distributed and uncorrelated among themselves.
Recalling that l0 is estimate a priori (see Section IV),
and according to [16], the approximation of the remaining
parameters parameters (α, lw ) that minimizes the least mean
square error kRSSI − RSSI ′ k2 can be achieved by direct
method. The computation cost for direct method solving a
linear least mean square estimator problem is polynomial [16].
B. per-wall self-calibration
With this technique we estimate an individual attenuation
factor for each wall in between any pair of anchors belonging
to C.
Let us assume there are q different types of wall in the
map of the building and let F = {f1 , f2 , . . . , fq } the set of
attenuation factors for each type of wall. Thus the Equation 6
building the linear system becomes:
RSSI (i,j)

= l0 − 10αlog10 (d(i,j) ) +
+k(i,j) lw +
q
X
+
kh(i,j) fh − ε(i,j)

∀i, j : (ai , aj ) ∈ C

(7)

h=1

The path loss exponent α used in this equation is previusly
evaluated with the G-model. Instead the evaluation of paramaters lw , and fi ∈ F is achieved with the same methodology
used in Subsection IV-A, by means of the least mean square
estimator.

TABLE I
PARAMETERS AND PERFORMANCE COMPARISON AMONG MODELS

V. S IMULATION AND PRELIMINARY RESULTS
As observed in [12] the measured RSSI is function of
the path loss and of the wall attenuation factor which can
estimated with the above calibration technique. Furthermore,
transmit powers will vary as batteries become depleted. This
implies that the parameters changes during the sensors’ lifetime.
In this section we present the results of a measurement
campaign aimed at comparing the performance of the three
heuristics proposed in the previous section.
We performed a two phases of measurements, each aimed
at:
1) performing the calibration of the propagation model
using the three heuristics;
2) measuring the RSSI on a grid of points in the environment, to compare the performance of the heuristics.
We use the H-model as reference technique, and we evaluate
the performance of the two self-calibration techniques in terms
of the following formula:
φG = kstdclb(RSSI) − slf clbG (RSSI)k2
φW = kstdclb(RSSI) − slf clbW (RSSI)k2

(8)
(9)

Where stdclb is the function computing the distance based
on the propagation model calibrated with H-model, slf clbG
provides the distance by means of the propagation model
calibrated with G-model and slf clbW provides the distance by
means of the propagation model calibrated with PW-model.
In order to gather a better view of the comparison we studied
the Probability Density Function (PDF) of the errors. Based on
the set of all the RSSI measured between the communication
from anchors to mobile, produced during the second phase of
the measuring campaign, we estimated the PDF error as the
frequency of the error affecting the estimated distance.
In the next subsection we present the setup of our expiriment
and the results of the comparison between our techniques.

α
l1
l2

G-model
1.45
-8.96
-8.96

PW-model
1.45
-8.33
-7.30

H-model
1.46
-8.21
-6.40

As mentioned in Section IV the l0 parameter can be
estimated a priori as the path loss at a reference distance. To
this purpose we preliminary evaluated l0 measuring the RSSI
between two anchors deployed at 1 meter distance, obtaing
l0 = −10.06.
We preliminary executed the H-model to obtain the reference parameters of the propagation model to be used for the
comparison with G-model and PW-model techniques. In particular we estimated α = 1.46, l1 = −8.21dB, l2 = −6.4dB.
The parameters obtained with all the calibration methods are
shown in Table I.
During our experiments we observed the typical features of
radio channels [15]: Asymmetrical links (the connectivity from
node A to node B might be different than that from node B
to node A), Non-isotropic connectivity (the connectivity is not
necessarily the same in all the directions from the source), and
Non-monotonic distance decay (nodes that are far away from
the source may have better connectivity than nodes that are
closer). Note that non-monotonic distance decay is the main
cause of localization error.
B. Global self-calibration performance
Theoretical model and measured performance
-6

H-model
{G/PW}-model

-8
-10
-12

We performed the experiments in our laboratory. It is a
typical office environment with an area of approximately 7m
by 10m. It has desks, chairs, cabinets, computers, monitors,
etc. This environment is harsh for wireless communication
due to multi-path reflections from walls and the possibility
of interference from electronic devices. Figure 1 shows the
layout of the laboratory and the deployment of the anchors in
the rooms.
For the experiments we used a Sensor Network of 7
MicaZ [17] which use the Chipcom CC2420 radio subsystem
implementing the IEEE 802.15.4 standard.
The experiments consist in a set of measures between a pair
of anchors or between an anchor and a point of the grid (in
case of ad-hoc calibration). Each measure collects 300 RSSIs,
where every RSSI is averaged over a set of 100 samples. Thus
every measure requires 5000 samples. Each sample is obtained
exchanging a beacon packet between two sensors every 1/32
second, using the highest transmission power of the MicaZ.

RSSI [dB]

-14

A. Experimental setup

-16
-18
-20
-22
-24
-26
-28

1

10
distance [m]

Fig. 2.

Recieved RSSI measuered from the mobile node

With Global self-calibration (G-model) the estimated parameters are α = 1.45 and l1 = l2 = lw = −8.96dB.
Figure 2 and Figure 3 show the results obtained in a
single room, without the attenuation introduced by the walls
(W AF = 0). In particular, Figure 2 shows the received power
measured from the mobile. The dotted line is the H-model,
and the solid line is G-model. As we can see from the figure,

PDF of φG inside a single room

0.08

CDF
0.3

0.07
0.25

0.06

Probability

Probability

0.2

0.05
0.04

0.15

0.03
0.1

0.02
0.05

0.01
0

0

0.05

0.1

0.15

0.2

0.25

0
0

0.2

0.4

meters

Fig. 3.

PDF of φG considering data within a room

Fig. 5.

1

1.2

1.4

PDF of φW considering all the measured data

TABLE II
C OMPARISON OF THE CDF OF THE ERRORS

0.18

error [m]
0.25 m
0.5 m
1m
1.5 m

0.16
0.14
Probability

0.8
metri

PDF of φW in the whole environment

0.2

0.6

0.12

CDF of φG
0.604
0.732
0.868
0.901

CDF of φW
0.896
0.919
0.973
0.984

0.1
0.08
0.06
0.04
0.02
0

0

0.2

Fig. 4.

0.4

0.6

0.8
meters

1

1.2

1.4

PDF of φG considering all the measured data

the two lines are practically overlapped due to the optimal fit
of both lines, with the real path loss exponent.
Consecuently, the error of G-model with respect to the Hmodel φG is negligeble. Figure 3 shows the PDF of φG , it
is seen that the error of G-model with respect to H-model is
less than 25cm inside a single room.
Figure 4 shows the PDF of φG for measures obtained in the
whole enviroment (W AF 6= 0). In this case the error is less
then 1.5m in the 90% of the cases. This results is due to the
fact that the attenuation factor of both walls has been forced
to be the same.
Consider that, from the measures in our enviroment, the
H-model is affected by an error of about 1.5m. Thus, the
error of 1.5m of the G-model with respect to the H-model
can be considered accetable since it fits the highest precision
achievable in our enviroment.
C. per-wall self-calibration performance
With PW-model the estimated parameters are α = 1.45,
l1 = −8.33dB, and l2 = −7.3dB. The main difficulty for this

calibration method is due to the different number of sample
used to estimate the single wall attenuation. In our case we
have 5 anchors to estimate the first wall, and other 3 anchors
for the second one. Therefore, in order to resolve the Equation
(7) with the least mean square estimator, we weigh the W AF
parameters with a number directly proportional to the number
of established links between pairs of anchors and inversely
proportional to the number of anchors.
Figure 5 shows the PDF of φW . It is seen that selfcalibration of individual walls improves the performance of
self-calibration, in particular comparing the PW-model with
the H-model we observed an error less than 1.5m in the 98%
of the cases. This is a significant improvement over G-model.
Table II summarize the results obtained showing the Cumulative Distribution Function (CDF) of φG and φW . This table
highlight that the PW-model increase the performance with
respect to the G-model.
Not surprisingly, the PW-model outperforms the G-model,
due to the better accuracy in the walls modelling.
VI. C ONCLUSIONS AND FUTURE WORK
In this paper we considered the problem of a localization
system. To estimate distances a self-calibration procedure that
exploits RSSI measurements between any pair of anchors.
In particular we propose two heuristics for self-calibration
and we evaluate their performance with respect to an ad-hoc
calibration campaign by performing measures in an indoor
environment with an IEEE 802.15.4 sensor network. We show
that the performance of self-calibration in terms of accuracy of
the estimated distances is close to that achievable with more

expensive, ad-hoc calibration procedures, and it is thus a viable
alternative to simplify the calibration of a localization system.
The proposed self-calibration procedure may have a significant
impact on distance-based wireless sensor network localization
where the distance is estrimated for the received signal strength
measurements.
R EFERENCES
[1] P. Baronti, P. Pillai, V. Chook, S. Chessa, A. Gotta, and Y. F. Hu, “Wireless
sensor networks: a survey on the state of the art and the 802.15.4 and
zigbee standards”, Computer Communications, 30:1655-1695, 2007
[2] R. Want, A. Hopper, V. Falcao, and J. Gibbons, The Active Badge
Location System. ACM Transactions on Information Systems, 10(1):91102, 1992
[3] G.D. Abowd, C.G. Atkeson, J. Hong, S. Long, R. Kooper, and M.
Pinkerton, Cyberguide: A mobile context-aware tour guide. Wireless
Networks, 3(5): 421-433, 1997
[4] Y. Sumi, T. Etani, S. Fels, N. Simonet, K. Kobayashi, and K. Mase, Cmap: Building a context-aware mobile assis- tant for exhibition tours,
Community Computing and Support Systems, Social Interaction in Networked Communities, 137-154, London, UK. Springer-Verlag, 1998.
[5] K. Cheverst, N. Davies, K. Mitchell, A. Friday, and C. Efstratiou,
Developing a context-aware electronic tourist guide: some issues and experiences, SIGCHI conference on Human Factors in Computing Systems,
pp. 17-24, 2000.
[6] N. Patwari, I. Hero, A.O., M. Perkins, N. Correal, and R. ODea, Relative
location estimation in wireless sensor networks, IEEE Transactions on
Signal Processing, vol. 51, no. 8, pp. 2137-2148, 2003.

[7] P. Bergamo and G. Mazzini, Localization in sensor networks with fading
and mobility, in The 13th IEEE International Symposium on Personal,
Indoor and Mobile Radio Communications, vol. 2, 2002, pp. 750-754.
[8] E. Elnahrawy, X. Li, and R. Martin, The limits of localization using signal
strength: a comparative study, in First Annual IEEE Communications
Society Conference Sensor and Ad Hoc Communications and Networks,
2004, pp. 406-414.
[9] D. Madigan, E. Einahrawy, R. Martin, W.-H. Ju, P. Krishnan, and A.
Krishnakumar, Bayesian indoor positioning systems, in IEEE INFOCOM
2005, vol. 2, 2005, pp. 1217-1227.
[10] P. Bahl, V.N. Padmanabhan, RADAR: An in-building RF- based user
location and tracking system, in Proceedings of IEEE Infocom, Tel Aviv,
Israel, 2000.
[11] N. Pryiantha, A. Chakaborty, H. Balakrishnan, “The Cricket locationsupport system, in Proceedings of ACM MobiComm 2000, pp. 32-43,
Boston, Massachussetts, 2000.
[12] Borrelli, A. and Monti, C. and Vari, M. and Mazzenga, F.Channel models
for IEEE 802.11b indoor system design”, IEEE International Conference
on Communications , pp 3701-3705, 20-24 June 2004
[13] E.Green and M. Hata, “Microcellular propagation measurements in a
urban environment”in proc. PIMRC, pp. 324-328, Sept. 1991
[14] D. Lymberopoulos, Q. Lindsey, and A. Savvides, “An empirical analysis
of radio signal strength variability in IEEE 802.15.4 networks using
monopole antennas,”Yale ENALAB Technical Report 050501, 2005.
[15] D. Ganesan and B. Krishnamachari and A. Woo and D. Culler and
D. Estrin and S. Wicker, “Complex Behavior at Scale: An Experimental
Study of Low-Power Wireless Sensor Networks”, Technical Report CSDTR 02-0013, UCLA, February 2002.
[16] Åke Björck, “Solution of Equations in RN ”, vol. 1, NorthHolland, 1990
[17] Crossbow Technology Inc., http://www.xbow.com.

